<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1546px" height="1041px" viewBox="0 0 1546 1041" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15&quot; version=&quot;29.5.2&quot;&gt;&#10;  &lt;diagram name=&quot;RAG System UML&quot; id=&quot;b19PjdU0m58HFnB3k5rj&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1081&quot; dy=&quot;619&quot; grid=&quot;0&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-1&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;&quot; value=&quot;C4 Level 4: RAG System Component - UML Class Diagram&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;800&quot; x=&quot;500&quot; y=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;RAGToolFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;220&quot; width=&quot;380&quot; x=&quot;40&quot; y=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-3&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;380&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-4&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&amp;lt;&amp;lt;classmethod&amp;gt;&amp;gt; &amp;lt;&amp;lt;async&amp;gt;&amp;gt;&amp;#xa;+ init_rag_tool() -&amp;gt; Tool&amp;#xa;    &amp;quot;Инициализирует RAG инструмент по конфигу&amp;quot;&amp;#xa;&amp;#xa;&amp;lt;&amp;lt;classmethod&amp;gt;&amp;gt;&amp;#xa;+ create_llama_index_tool() -&amp;gt; Tool&amp;#xa;    &amp;quot;Создает RAG на базе Llama Index&amp;quot;&amp;#xa;&amp;#xa;&amp;lt;&amp;lt;classmethod&amp;gt;&amp;gt; &amp;lt;&amp;lt;async&amp;gt;&amp;gt;&amp;#xa;+ create_lightrag_tool() -&amp;gt; Tool&amp;#xa;    &amp;quot;Создает RAG на базе LightRAG&amp;quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;150&quot; width=&quot;380&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-5&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;Паттерн Фабрика для RAG инструментов&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;380&quot; y=&quot;184&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-6&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;enumeration&amp;gt;&amp;gt;&amp;#xa;RAGType&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;180&quot; x=&quot;40&quot; y=&quot;360&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-7&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-6&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;LLAMA_INDEX = &amp;quot;llama_index&amp;quot;&amp;#xa;LIGHTRAG = &amp;quot;lightrag&amp;quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-8&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-6&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;10&quot; width=&quot;180&quot; y=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffe6cc;strokeColor=#d79b00;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;lightrag.py&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;280&quot; width=&quot;420&quot; x=&quot;480&quot; y=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-10&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;&quot; value=&quot;EMBEDDING_MAX_TOKEN_SIZE = 1536&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;420&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-11&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;420&quot; y=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-12&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;&quot; value=&quot;&amp;lt;&amp;lt;async&amp;gt;&amp;gt;&amp;#xa;+ ask_lightrag_async(request: str, rag: LightRAG,&amp;#xa;    rag_mode: Literal[&amp;quot;local&amp;quot;,&amp;quot;global&amp;quot;,&amp;quot;hybrid&amp;quot;,&amp;#xa;                      &amp;quot;naive&amp;quot;,&amp;quot;mix&amp;quot;,&amp;quot;bypass&amp;quot;]) -&amp;gt; str&amp;#xa;    &amp;quot;Асинхронный запрос к LightRAG&amp;quot;&amp;#xa;&amp;#xa;+ ask_lightrag(request: str, rag: LightRAG,&amp;#xa;              rag_mode: ...) -&amp;gt; str&amp;#xa;    &amp;quot;Синхронная обертка ask_lightrag_async&amp;quot;&amp;#xa;&amp;#xa;+ initialize_rag(api_key: str, working_dir: str,&amp;#xa;    embedding_model: str, base_url: str,&amp;#xa;    embedding_dim: int, log_level: str) -&amp;gt; LightRAG&amp;#xa;    &amp;quot;Создает и конфигурирует LightRAG instance&amp;quot;&amp;#xa;&amp;#xa;+ openrouter_complete(prompt, system_prompt,&amp;#xa;    base_url, history_messages, **kwargs) -&amp;gt; str&amp;#xa;    &amp;quot;LLM completion через OpenRouter для LightRAG&amp;quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;212&quot; width=&quot;420&quot; y=&quot;68&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-13&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; value=&quot;&amp;lt;&amp;lt;type alias&amp;gt;&amp;gt;&amp;#xa;QueryMode&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;260&quot; y=&quot;360&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-14&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-13&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;&quot; value=&quot;Literal[&amp;quot;local&amp;quot;, &amp;quot;global&amp;quot;, &amp;#xa;        &amp;quot;hybrid&amp;quot;, &amp;quot;naive&amp;quot;, &amp;#xa;        &amp;quot;mix&amp;quot;, &amp;quot;bypass&amp;quot;]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;60&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-15&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffe6cc;strokeColor=#d79b00;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;llama_index_rag.py&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;200&quot; width=&quot;420&quot; x=&quot;480&quot; y=&quot;420&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-16&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-15&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;420&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-17&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-15&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;&quot; value=&quot;+ create_chat_agent(retriever: BaseRetriever) &amp;#xa;    -&amp;gt; CompiledStateGraph&amp;#xa;    &amp;quot;Создает LangGraph агент с Llama Index retriever&amp;quot;&amp;#xa;&amp;#xa;Внутренние функции графа:&amp;#xa;  - agent(state: AgentState) -&amp;gt; dict&amp;#xa;      &amp;quot;Узел агента - обрабатывает сообщения&amp;quot;&amp;#xa;  - route(state: AgentState) -&amp;gt; str&amp;#xa;      &amp;quot;Маршрутизация: tools | END&amp;quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;152&quot; width=&quot;420&quot; y=&quot;48&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-18&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffe6cc;strokeColor=#d79b00;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;rag_tool.py&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;180&quot; width=&quot;400&quot; x=&quot;40&quot; y=&quot;500&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-19&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-18&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;400&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-20&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-18&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=11;&quot; value=&quot;@tool&amp;#xa;def rag_subagent(request: str) -&amp;gt; str&amp;#xa;    &amp;quot;LangChain Tool: запрос к Llama Index RAG&amp;quot;&amp;#xa;&amp;#xa;@tool&amp;#xa;def ask_lightrag_tool(request: str) -&amp;gt; str&amp;#xa;    &amp;quot;LangChain Tool: запрос к LightRAG&amp;quot;&amp;#xa;&amp;#xa;Содержит RAGToolFactory класс&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;132&quot; width=&quot;400&quot; y=&quot;48&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;LightRAG&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;200&quot; width=&quot;280&quot; x=&quot;960&quot; y=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-22&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ working_dir: str&amp;#xa;+ embedding_func: EmbeddingFunc&amp;#xa;+ llm_model_func: Callable&amp;#xa;+ vector_storage: str&amp;#xa;+ graph_storage: str&amp;#xa;+ kv_storage: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;280&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-23&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;280&quot; y=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-24&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ aquery(query, mode) -&amp;gt; str&amp;#xa;+ ainsert(text) -&amp;gt; None&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;280&quot; y=&quot;148&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-25&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;&amp;lt;i&amp;gt;lightrag&amp;lt;/i&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;280&quot; y=&quot;184&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-26&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;QdrantVectorDBStorage&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;960&quot; y=&quot;340&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-27&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-26&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ collection_name: str&amp;#xa;+ url: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-28&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-26&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;lightrag.kg.qdrant_impl&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;200&quot; y=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-29&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;Neo4JStorage&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;180&quot; x=&quot;1180&quot; y=&quot;340&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-30&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-29&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ uri: str&amp;#xa;+ auth: tuple&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-31&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-29&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;lightrag.kg.neo4j_impl&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;180&quot; y=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-32&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;PGKVStorage&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;960&quot; y=&quot;480&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-33&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-32&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ dsn: str&amp;#xa;+ table_name: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-34&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-32&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;lightrag.kg.postgres_impl&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;200&quot; y=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-35&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;Tool&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;180&quot; x=&quot;40&quot; y=&quot;720&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-36&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-35&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ name: str&amp;#xa;+ description: str&amp;#xa;+ func: Callable&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-37&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-35&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;langchain_core.tools&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;10&quot; width=&quot;180&quot; y=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-38&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;BaseRetriever&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;260&quot; y=&quot;720&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-39&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-38&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ retrieve(query) -&amp;gt; List[Doc]&amp;#xa;+ aretrieve(query) -&amp;gt; List[Doc]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-40&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-38&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;llama_index.core.retrievers&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;10&quot; width=&quot;200&quot; y=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-41&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&amp;lt;&amp;lt;external&amp;gt;&amp;gt;&amp;#xa;CompiledStateGraph&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;500&quot; y=&quot;720&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-42&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-41&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ invoke(state) -&amp;gt; dict&amp;#xa;+ astream(state) -&amp;gt; AsyncIter&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-43&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-41&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=10;&quot; value=&quot;langgraph&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;10&quot; width=&quot;200&quot; y=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-44&quot; parent=&quot;1&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;Qdrant&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;80&quot; x=&quot;1400&quot; y=&quot;340&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-45&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;Vector DB&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;90&quot; x=&quot;1395&quot; y=&quot;410&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-46&quot; parent=&quot;1&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;Neo4j&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;80&quot; x=&quot;1500&quot; y=&quot;340&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-47&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;Graph DB&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;90&quot; x=&quot;1495&quot; y=&quot;410&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-48&quot; parent=&quot;1&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;PostgreSQL&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;80&quot; x=&quot;1400&quot; y=&quot;480&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-49&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;KV Storage&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;100&quot; x=&quot;1390&quot; y=&quot;550&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-50&quot; parent=&quot;1&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;OpenRouter&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;80&quot; x=&quot;1500&quot; y=&quot;480&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-51&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;LLM API&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;90&quot; x=&quot;1495&quot; y=&quot;550&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-52&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-6&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-53&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;&amp;lt;&amp;lt;uses&amp;gt;&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;60&quot; x=&quot;100&quot; y=&quot;330&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-54&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-35&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;230&quot; y=&quot;690&quot; /&gt;&#10;              &lt;mxPoint x=&quot;130&quot; y=&quot;690&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-55&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;&amp;lt;&amp;lt;creates&amp;gt;&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;60&quot; x=&quot;140&quot; y=&quot;690&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-56&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-2&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-57&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;&amp;lt;&amp;lt;uses&amp;gt;&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;60&quot; x=&quot;430&quot; y=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-58&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-59&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;&amp;lt;&amp;lt;uses&amp;gt;&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;60&quot; x=&quot;910&quot; y=&quot;180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-60&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-26&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-61&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-29&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-62&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-21&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1100&quot; y=&quot;320&quot; /&gt;&#10;              &lt;mxPoint x=&quot;1060&quot; y=&quot;320&quot; /&gt;&#10;              &lt;mxPoint x=&quot;1060&quot; y=&quot;460&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-63&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-26&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-44&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-64&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-29&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-46&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-65&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-32&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-48&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-66&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-9&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-50&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;920&quot; y=&quot;240&quot; /&gt;&#10;              &lt;mxPoint x=&quot;920&quot; y=&quot;600&quot; /&gt;&#10;              &lt;mxPoint x=&quot;1540&quot; y=&quot;600&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-67&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;openrouter_complete()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;120&quot; x=&quot;1200&quot; y=&quot;580&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-68&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-15&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;exitX=0;exitY=1;exitDx=0;exitDy=0;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-38&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;480&quot; y=&quot;680&quot; /&gt;&#10;              &lt;mxPoint x=&quot;360&quot; y=&quot;680&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-69&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;&amp;lt;&amp;lt;uses&amp;gt;&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;60&quot; x=&quot;390&quot; y=&quot;660&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-70&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;ESS7ZOJCG33J2qMMD6AS-15&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;strokeWidth=1;&quot; target=&quot;ESS7ZOJCG33J2qMMD6AS-41&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-71&quot; parent=&quot;1&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;&quot; value=&quot;&amp;lt;&amp;lt;creates&amp;gt;&amp;gt;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;60&quot; x=&quot;600&quot; y=&quot;660&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; parent=&quot;1&quot; style=&quot;swimlane;startSize=23;fillColor=#f5f5f5;strokeColor=#666666;&quot; value=&quot;Легенда&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;200&quot; width=&quot;300&quot; x=&quot;40&quot; y=&quot;860&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-73&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;15&quot; width=&quot;20&quot; x=&quot;10&quot; y=&quot;35&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-74&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; value=&quot;Класс-фабрика&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;140&quot; x=&quot;40&quot; y=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-75&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;15&quot; width=&quot;20&quot; x=&quot;10&quot; y=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-76&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; value=&quot;Модуль с функциями&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;160&quot; x=&quot;40&quot; y=&quot;55&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-77&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;15&quot; width=&quot;20&quot; x=&quot;10&quot; y=&quot;85&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-78&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; value=&quot;Enum / Type Alias&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;140&quot; x=&quot;40&quot; y=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-79&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;15&quot; width=&quot;20&quot; x=&quot;10&quot; y=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-80&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; value=&quot;Тип (Type Alias)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;140&quot; x=&quot;40&quot; y=&quot;105&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-81&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;dashed=1;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;15&quot; width=&quot;20&quot; x=&quot;10&quot; y=&quot;135&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-82&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; value=&quot;Внешняя зависимость&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;160&quot; x=&quot;40&quot; y=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-83&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;dashed=1;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;20&quot; x=&quot;10&quot; y=&quot;155&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-84&quot; parent=&quot;ESS7ZOJCG33J2qMMD6AS-72&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;&quot; value=&quot;База данных&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;25&quot; width=&quot;140&quot; x=&quot;40&quot; y=&quot;155&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ESS7ZOJCG33J2qMMD6AS-85&quot; parent=&quot;1&quot; style=&quot;shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;spacingLeft=5;spacingTop=5;fontSize=10;&quot; value=&quot;Файлы:&amp;#xa;sbmagent/rag/lightrag.py&amp;#xa;sbmagent/rag/llama_index_rag.py&amp;#xa;sbmagent/tools/rag_tool.py&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;200&quot; x=&quot;360&quot; y=&quot;860&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" resource="https://app.diagrams.net/?src=about#Hpavel-collab%2FAgentic-system-images%2Fmain%2FProjectRAGUML.drawio.svg#%7B%22pageId%22%3A%22b19PjdU0m58HFnB3k5rj%22%7D"><defs><clipPath id="mx-clip-4-119-372-150-0"><rect x="4" y="119" width="372" height="150"/></clipPath><clipPath id="mx-clip-4-269-372-36-0"><rect x="4" y="269" width="372" height="36"/></clipPath><clipPath id="mx-clip-4-385-172-50-0"><rect x="4" y="385" width="172" height="50"/></clipPath><clipPath id="mx-clip-444-125-412-20-0"><rect x="444" y="125" width="412" height="20"/></clipPath><clipPath id="mx-clip-444-153-412-212-0"><rect x="444" y="153" width="412" height="212"/></clipPath><clipPath id="mx-clip-224-385-192-60-0"><rect x="224" y="385" width="192" height="60"/></clipPath><clipPath id="mx-clip-444-453-412-152-0"><rect x="444" y="453" width="412" height="152"/></clipPath><clipPath id="mx-clip-4-533-392-132-0"><rect x="4" y="533" width="392" height="132"/></clipPath><clipPath id="mx-clip-924-125-272-100-0"><rect x="924" y="125" width="272" height="100"/></clipPath><clipPath id="mx-clip-924-233-272-36-0"><rect x="924" y="233" width="272" height="36"/></clipPath><clipPath id="mx-clip-924-269-272-16-0"><rect x="924" y="269" width="272" height="16"/></clipPath><clipPath id="mx-clip-924-365-192-40-0"><rect x="924" y="365" width="192" height="40"/></clipPath><clipPath id="mx-clip-924-405-192-20-0"><rect x="924" y="405" width="192" height="20"/></clipPath><clipPath id="mx-clip-1144-365-172-40-0"><rect x="1144" y="365" width="172" height="40"/></clipPath><clipPath id="mx-clip-1144-405-172-20-0"><rect x="1144" y="405" width="172" height="20"/></clipPath><clipPath id="mx-clip-924-505-192-40-0"><rect x="924" y="505" width="192" height="40"/></clipPath><clipPath id="mx-clip-924-545-192-20-0"><rect x="924" y="545" width="192" height="20"/></clipPath><clipPath id="mx-clip-4-745-172-50-0"><rect x="4" y="745" width="172" height="50"/></clipPath><clipPath id="mx-clip-4-795-172-10-0"><rect x="4" y="795" width="172" height="10"/></clipPath><clipPath id="mx-clip-224-745-192-50-0"><rect x="224" y="745" width="192" height="50"/></clipPath><clipPath id="mx-clip-224-795-192-10-0"><rect x="224" y="795" width="192" height="10"/></clipPath><clipPath id="mx-clip-464-745-192-50-0"><rect x="464" y="745" width="192" height="50"/></clipPath><clipPath id="mx-clip-464-795-192-10-0"><rect x="464" y="795" width="192" height="10"/></clipPath></defs><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-1"><g transform="translate(0.5,0.5)"><rect x="460" y="0" width="800" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 798px; height: 1px; padding-top: 20px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">C4 Level 4: RAG System Component - UML Class Diagram</div></div></div></foreignObject><text x="860" y="26" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">C4 Level 4: RAG System Component - UML Class Diagram</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-2"><g transform="translate(0.5,0.5)"><path d="M 0 106 L 0 80 L 380 80 L 380 106" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 0 106 L 0 300 L 380 300 L 380 106" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 0 106 L 380 106" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="190" y="98">RAGToolFactory</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-3"><g transform="translate(0.5,0.5)"><path d="M 0 110 L 380 110" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-4"><g transform="translate(0.5,0.5)"><rect x="0" y="114" width="380" height="150" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-4-119-372-150-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="6" y="132">&lt;&lt;classmethod&gt;&gt; &lt;&lt;async&gt;&gt;</text><text x="6" y="146">+ init_rag_tool() -&gt; Tool</text><text x="6" y="160">    "Инициализирует RAG инструмент по конфигу"</text><text x="6" y="188">&lt;&lt;classmethod&gt;&gt;</text><text x="6" y="202">+ create_llama_index_tool() -&gt; Tool</text><text x="6" y="216">    "Создает RAG на базе Llama Index"</text><text x="6" y="244">&lt;&lt;classmethod&gt;&gt; &lt;&lt;async&gt;&gt;</text><text x="6" y="258">+ create_lightrag_tool() -&gt; Tool</text><text x="6" y="272">    "Создает RAG на базе LightRAG"</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-5"><g transform="translate(0.5,0.5)"><rect x="0" y="264" width="380" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-4-269-372-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="190" y="280">Паттерн Фабрика для RAG инструментов</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-6"><g transform="translate(0.5,0.5)"><path d="M 0 380 L 0 340 L 180 340 L 180 380" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 0 380 L 0 440 L 180 440 L 180 380" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 0 380 L 180 380" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="90" y="358">&lt;&lt;enumeration&gt;&gt;</text><text x="90" y="372">RAGType</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-7"><g transform="translate(0.5,0.5)"><rect x="0" y="380" width="180" height="50" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-4-385-172-50-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="6" y="398">LLAMA_INDEX = "llama_index"</text><text x="6" y="412">LIGHTRAG = "lightrag"</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-8"><g transform="translate(0.5,0.5)"><path d="M 0 435 L 180 435" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-9"><g transform="translate(0.5,0.5)"><path d="M 440 120 L 440 80 L 860 80 L 860 120" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 440 120 L 440 360 L 860 360 L 860 120" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 440 120 L 860 120" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="650" y="98">&lt;&lt;module&gt;&gt;</text><text x="650" y="112">lightrag.py</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-10"><g transform="translate(0.5,0.5)"><rect x="440" y="120" width="420" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" font-size="12px" clip-path="url(#mx-clip-444-125-412-20-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="446" y="138">EMBEDDING_MAX_TOKEN_SIZE = 1536</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-11"><g transform="translate(0.5,0.5)"><path d="M 440 144 L 860 144" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-12"><g transform="translate(0.5,0.5)"><rect x="440" y="148" width="420" height="212" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11px" clip-path="url(#mx-clip-444-153-412-212-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="446" y="165">&lt;&lt;async&gt;&gt;</text><text x="446" y="178">+ ask_lightrag_async(request: str, rag: LightRAG,</text><text x="446" y="191">    rag_mode: Literal["local","global","hybrid",</text><text x="446" y="204">                      "naive","mix","bypass"]) -&gt; str</text><text x="446" y="217">    "Асинхронный запрос к LightRAG"</text><text x="446" y="243">+ ask_lightrag(request: str, rag: LightRAG,</text><text x="446" y="256">              rag_mode: ...) -&gt; str</text><text x="446" y="269">    "Синхронная обертка ask_lightrag_async"</text><text x="446" y="295">+ initialize_rag(api_key: str, working_dir: str,</text><text x="446" y="308">    embedding_model: str, base_url: str,</text><text x="446" y="321">    embedding_dim: int, log_level: str) -&gt; LightRAG</text><text x="446" y="334">    "Создает и конфигурирует LightRAG instance"</text><text x="446" y="360">+ openrouter_complete(prompt, system_prompt,</text><text x="446" y="373">    base_url, history_messages, **kwargs) -&gt; str</text><text x="446" y="386">    "LLM completion через OpenRouter для LightRAG"</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-13"><g transform="translate(0.5,0.5)"><path d="M 220 380 L 220 340 L 420 340 L 420 380" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(225, 213, 231), rgb(57, 47, 63)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/><path d="M 220 380 L 220 440 L 420 440 L 420 380" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/><path d="M 220 380 L 420 380" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="320" y="358">&lt;&lt;type alias&gt;&gt;</text><text x="320" y="372">QueryMode</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-14"><g transform="translate(0.5,0.5)"><rect x="220" y="380" width="200" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11px" clip-path="url(#mx-clip-224-385-192-60-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="226" y="397">Literal["local", "global", </text><text x="226" y="410">        "hybrid", "naive", </text><text x="226" y="423">        "mix", "bypass"]</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-15"><g transform="translate(0.5,0.5)"><path d="M 440 440 L 440 400 L 860 400 L 860 440" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 440 440 L 440 600 L 860 600 L 860 440" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 440 440 L 860 440" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="650" y="418">&lt;&lt;module&gt;&gt;</text><text x="650" y="432">llama_index_rag.py</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-16"><g transform="translate(0.5,0.5)"><path d="M 440 444 L 860 444" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-17"><g transform="translate(0.5,0.5)"><rect x="440" y="448" width="420" height="152" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11px" clip-path="url(#mx-clip-444-453-412-152-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="446" y="465">+ create_chat_agent(retriever: BaseRetriever) </text><text x="446" y="478">    -&gt; CompiledStateGraph</text><text x="446" y="491">    "Создает LangGraph агент с Llama Index retriever"</text><text x="446" y="517">Внутренние функции графа:</text><text x="446" y="530">  - agent(state: AgentState) -&gt; dict</text><text x="446" y="543">      "Узел агента - обрабатывает сообщения"</text><text x="446" y="556">  - route(state: AgentState) -&gt; str</text><text x="446" y="569">      "Маршрутизация: tools | END"</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-18"><g transform="translate(0.5,0.5)"><path d="M 0 520 L 0 480 L 400 480 L 400 520" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 0 520 L 0 660 L 400 660 L 400 520" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 0 520 L 400 520" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="200" y="498">&lt;&lt;module&gt;&gt;</text><text x="200" y="512">rag_tool.py</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-19"><g transform="translate(0.5,0.5)"><path d="M 0 524 L 400 524" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-20"><g transform="translate(0.5,0.5)"><rect x="0" y="528" width="400" height="132" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11px" clip-path="url(#mx-clip-4-533-392-132-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="6" y="545">@tool</text><text x="6" y="558">def rag_subagent(request: str) -&gt; str</text><text x="6" y="571">    "LangChain Tool: запрос к Llama Index RAG"</text><text x="6" y="597">@tool</text><text x="6" y="610">def ask_lightrag_tool(request: str) -&gt; str</text><text x="6" y="623">    "LangChain Tool: запрос к LightRAG"</text><text x="6" y="649">Содержит RAGToolFactory класс</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-21"><g transform="translate(0.5,0.5)"><path d="M 920 120 L 920 80 L 1200 80 L 1200 120" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 920 120 L 920 280 L 1200 280 L 1200 120" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 920 120 L 1200 120" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="1060" y="98">&lt;&lt;external&gt;&gt;</text><text x="1060" y="112">LightRAG</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-22"><g transform="translate(0.5,0.5)"><rect x="920" y="120" width="280" height="100" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-924-125-272-100-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="138">+ working_dir: str</text><text x="926" y="152">+ embedding_func: EmbeddingFunc</text><text x="926" y="166">+ llm_model_func: Callable</text><text x="926" y="180">+ vector_storage: str</text><text x="926" y="194">+ graph_storage: str</text><text x="926" y="208">+ kv_storage: str</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-23"><g transform="translate(0.5,0.5)"><path d="M 920 224 L 1200 224" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-24"><g transform="translate(0.5,0.5)"><rect x="920" y="228" width="280" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-924-233-272-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="246">+ aquery(query, mode) -&gt; str</text><text x="926" y="260">+ ainsert(text) -&gt; None</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-25"><g transform="translate(0.5,0.5)"><rect x="920" y="264" width="280" height="16" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-924-269-272-16-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1060" y="280">&lt;i&gt;lightrag&lt;/i&gt;</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-26"><g transform="translate(0.5,0.5)"><path d="M 920 360 L 920 320 L 1120 320 L 1120 360" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 920 360 L 920 420 L 1120 420 L 1120 360" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 920 360 L 1120 360" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="1020" y="338">&lt;&lt;external&gt;&gt;</text><text x="1020" y="352">QdrantVectorDBStorage</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-27"><g transform="translate(0.5,0.5)"><rect x="920" y="360" width="200" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-924-365-192-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="378">+ collection_name: str</text><text x="926" y="392">+ url: str</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-28"><g transform="translate(0.5,0.5)"><rect x="920" y="400" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-924-405-192-20-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1020" y="416">lightrag.kg.qdrant_impl</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-29"><g transform="translate(0.5,0.5)"><path d="M 1140 360 L 1140 320 L 1320 320 L 1320 360" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1140 360 L 1140 420 L 1320 420 L 1320 360" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1140 360 L 1320 360" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="1230" y="338">&lt;&lt;external&gt;&gt;</text><text x="1230" y="352">Neo4JStorage</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-30"><g transform="translate(0.5,0.5)"><rect x="1140" y="360" width="180" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-1144-365-172-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1146" y="378">+ uri: str</text><text x="1146" y="392">+ auth: tuple</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-31"><g transform="translate(0.5,0.5)"><rect x="1140" y="400" width="180" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-1144-405-172-20-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1230" y="416">lightrag.kg.neo4j_impl</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-32"><g transform="translate(0.5,0.5)"><path d="M 920 500 L 920 460 L 1120 460 L 1120 500" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 920 500 L 920 560 L 1120 560 L 1120 500" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 920 500 L 1120 500" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="1020" y="478">&lt;&lt;external&gt;&gt;</text><text x="1020" y="492">PGKVStorage</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-33"><g transform="translate(0.5,0.5)"><rect x="920" y="500" width="200" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-924-505-192-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="518">+ dsn: str</text><text x="926" y="532">+ table_name: str</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-34"><g transform="translate(0.5,0.5)"><rect x="920" y="540" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-924-545-192-20-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1020" y="556">lightrag.kg.postgres_impl</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-35"><g transform="translate(0.5,0.5)"><path d="M 0 740 L 0 700 L 180 700 L 180 740" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 0 740 L 0 800 L 180 800 L 180 740" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 0 740 L 180 740" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="90" y="718">&lt;&lt;external&gt;&gt;</text><text x="90" y="732">Tool</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-36"><g transform="translate(0.5,0.5)"><rect x="0" y="740" width="180" height="50" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-4-745-172-50-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="6" y="758">+ name: str</text><text x="6" y="772">+ description: str</text><text x="6" y="786">+ func: Callable</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-37"><g transform="translate(0.5,0.5)"><rect x="0" y="790" width="180" height="10" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-4-795-172-10-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="90" y="806">langchain_core.tools</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-38"><g transform="translate(0.5,0.5)"><path d="M 220 740 L 220 700 L 420 700 L 420 740" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 220 740 L 220 800 L 420 800 L 420 740" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 220 740 L 420 740" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="320" y="718">&lt;&lt;external&gt;&gt;</text><text x="320" y="732">BaseRetriever</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-39"><g transform="translate(0.5,0.5)"><rect x="220" y="740" width="200" height="50" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-224-745-192-50-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="226" y="758">+ retrieve(query) -&gt; List[Doc]</text><text x="226" y="772">+ aretrieve(query) -&gt; List[Doc]</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-40"><g transform="translate(0.5,0.5)"><rect x="220" y="790" width="200" height="10" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-224-795-192-10-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="320" y="806">llama_index.core.retrievers</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-41"><g transform="translate(0.5,0.5)"><path d="M 460 740 L 460 700 L 660 700 L 660 740" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 460 740 L 460 800 L 660 800 L 660 740" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 460 740 L 660 740" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="560" y="718">&lt;&lt;external&gt;&gt;</text><text x="560" y="732">CompiledStateGraph</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-42"><g transform="translate(0.5,0.5)"><rect x="460" y="740" width="200" height="50" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="12px" clip-path="url(#mx-clip-464-745-192-50-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="466" y="758">+ invoke(state) -&gt; dict</text><text x="466" y="772">+ astream(state) -&gt; AsyncIter</text></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-43"><g transform="translate(0.5,0.5)"><rect x="460" y="790" width="200" height="10" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="10px" clip-path="url(#mx-clip-464-795-192-10-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="560" y="806">langgraph</text></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-44"><g transform="translate(0.5,0.5)"><path d="M 1360 335 C 1360 326.72 1377.91 320 1400 320 C 1410.61 320 1420.78 321.58 1428.28 324.39 C 1435.79 327.21 1440 331.02 1440 335 L 1440 375 C 1440 383.28 1422.09 390 1400 390 C 1377.91 390 1360 383.28 1360 375 Z" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1440 335 C 1440 343.28 1422.09 350 1400 350 C 1377.91 350 1360 343.28 1360 335" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 368px; margin-left: 1361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Qdrant</div></div></div></foreignObject><text x="1400" y="371" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">Qdrant</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-45"><g transform="translate(0.5,0.5)"><rect x="1355" y="390" width="90" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 400px; margin-left: 1356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Vector DB</div></div></div></foreignObject><text x="1400" y="403" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">Vector DB</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-46"><g transform="translate(0.5,0.5)"><path d="M 1460 335 C 1460 326.72 1477.91 320 1500 320 C 1510.61 320 1520.78 321.58 1528.28 324.39 C 1535.79 327.21 1540 331.02 1540 335 L 1540 375 C 1540 383.28 1522.09 390 1500 390 C 1477.91 390 1460 383.28 1460 375 Z" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1540 335 C 1540 343.28 1522.09 350 1500 350 C 1477.91 350 1460 343.28 1460 335" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 368px; margin-left: 1461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Neo4j</div></div></div></foreignObject><text x="1500" y="371" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">Neo4j</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-47"><g transform="translate(0.5,0.5)"><rect x="1455" y="390" width="90" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 400px; margin-left: 1456px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Graph DB</div></div></div></foreignObject><text x="1500" y="403" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">Graph DB</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-48"><g transform="translate(0.5,0.5)"><path d="M 1360 475 C 1360 466.72 1377.91 460 1400 460 C 1410.61 460 1420.78 461.58 1428.28 464.39 C 1435.79 467.21 1440 471.02 1440 475 L 1440 515 C 1440 523.28 1422.09 530 1400 530 C 1377.91 530 1360 523.28 1360 515 Z" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1440 475 C 1440 483.28 1422.09 490 1400 490 C 1377.91 490 1360 483.28 1360 475" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 508px; margin-left: 1361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PostgreSQL</div></div></div></foreignObject><text x="1400" y="511" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">PostgreSQL</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-49"><g transform="translate(0.5,0.5)"><rect x="1350" y="530" width="100" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 540px; margin-left: 1351px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">KV Storage</div></div></div></foreignObject><text x="1400" y="543" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">KV Storage</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-50"><g transform="translate(0.5,0.5)"><path d="M 1460 475 C 1460 466.72 1477.91 460 1500 460 C 1510.61 460 1520.78 461.58 1528.28 464.39 C 1535.79 467.21 1540 471.02 1540 475 L 1540 515 C 1540 523.28 1522.09 530 1500 530 C 1477.91 530 1460 523.28 1460 515 Z" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1540 475 C 1540 483.28 1522.09 490 1500 490 C 1477.91 490 1460 483.28 1460 475" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 508px; margin-left: 1461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OpenRouter</div></div></div></foreignObject><text x="1500" y="511" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">OpenRouter</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-51"><g transform="translate(0.5,0.5)"><rect x="1455" y="530" width="90" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 540px; margin-left: 1456px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">LLM API</div></div></div></foreignObject><text x="1500" y="543" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">LLM API</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-52"><g transform="translate(0.5,0.5)"><path d="M 190 300 L 190 320 L 90 320 L 90 337.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 86.5 331.88 L 90 338.88 L 93.5 331.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-53"><g transform="translate(0.5,0.5)"><rect x="60" y="310" width="60" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 320px; margin-left: 61px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">&lt;&gt;</div></div></div></foreignObject><text x="90" y="323" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">&lt;&gt;</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-54"><g transform="translate(0.5,0.5)"><path d="M 190 300 L 190 670 L 90 670 L 90 697.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 86.5 691.88 L 90 698.88 L 93.5 691.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-55"><g transform="translate(0.5,0.5)"><rect x="100" y="670" width="60" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 680px; margin-left: 101px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">&lt;&gt;</div></div></div></foreignObject><text x="130" y="683" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">&lt;&gt;</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-56"><g transform="translate(0.5,0.5)"><path d="M 380 190 L 410 190 L 410 220 L 437.76 220" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 431.88 223.5 L 438.88 220 L 431.88 216.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-57"><g transform="translate(0.5,0.5)"><rect x="390" y="140" width="60" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 150px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">&lt;&gt;</div></div></div></foreignObject><text x="420" y="153" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">&lt;&gt;</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-58"><g transform="translate(0.5,0.5)"><path d="M 860 220 L 890 220 L 890 180 L 917.76 180" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 911.88 183.5 L 918.88 180 L 911.88 176.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-59"><g transform="translate(0.5,0.5)"><rect x="870" y="160" width="60" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 170px; margin-left: 871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">&lt;&gt;</div></div></div></foreignObject><text x="900" y="173" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">&lt;&gt;</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-60"><g transform="translate(0.5,0.5)"><path d="M 1060 280 L 1060 300 L 1020 300 L 1020 317.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1016.5 311.88 L 1020 318.88 L 1023.5 311.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-61"><g transform="translate(0.5,0.5)"><path d="M 1060 280 L 1060 300 L 1230 300 L 1230 317.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1226.5 311.88 L 1230 318.88 L 1233.5 311.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-62"><g transform="translate(0.5,0.5)"><path d="M 1060 280 L 1060 300 L 1020 300 L 1020 440 L 1020 457.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1016.5 451.88 L 1020 458.88 L 1023.5 451.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-63"><g transform="translate(0.5,0.5)"><path d="M 1120 370 L 1240 370 L 1240 355 L 1357.76 355" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1351.88 358.5 L 1358.88 355 L 1351.88 351.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-64"><g transform="translate(0.5,0.5)"><path d="M 1320 370 L 1390 370 L 1390 355 L 1457.76 355" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1451.88 358.5 L 1458.88 355 L 1451.88 351.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-65"><g transform="translate(0.5,0.5)"><path d="M 1120 510 L 1240 510 L 1240 495 L 1357.76 495" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1351.88 498.5 L 1358.88 495 L 1351.88 491.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-66"><g transform="translate(0.5,0.5)"><path d="M 860 220 L 880 220 L 880 580 L 1500 580 L 1500 532.24" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1503.5 538.12 L 1500 531.12 L 1496.5 538.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-67"><g transform="translate(0.5,0.5)"><rect x="1160" y="560" width="120" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 570px; margin-left: 1161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">openrouter_complete()</div></div></div></foreignObject><text x="1220" y="573" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">openrouter_complete()</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-68"><g transform="translate(0.5,0.5)"><path d="M 440 600 L 440 660 L 320 660 L 320 697.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 316.5 691.88 L 320 698.88 L 323.5 691.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-69"><g transform="translate(0.5,0.5)"><rect x="350" y="640" width="60" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 650px; margin-left: 351px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">&lt;&gt;</div></div></div></foreignObject><text x="380" y="653" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">&lt;&gt;</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-70"><g transform="translate(0.5,0.5)"><path d="M 650 600 L 650 650 L 560 650 L 560 697.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 556.5 691.88 L 560 698.88 L 563.5 691.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-71"><g transform="translate(0.5,0.5)"><rect x="560" y="640" width="60" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 650px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">&lt;&gt;</div></div></div></foreignObject><text x="590" y="653" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-style="italic">&lt;&gt;</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-72"><g transform="translate(0.5,0.5)"><path d="M 0 863 L 0 840 L 300 840 L 300 863" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 0 863 L 0 1040 L 300 1040 L 300 863" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 0 863 L 300 863" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="150" y="856.5">Легенда</text></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-73"><g transform="translate(0.5,0.5)"><rect x="10" y="875" width="20" height="15" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-74"><g transform="translate(0.5,0.5)"><rect x="40" y="870" width="140" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 883px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Класс-фабрика</div></div></div></foreignObject><text x="42" y="886" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px">Класс-фабрика</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-75"><g transform="translate(0.5,0.5)"><rect x="10" y="900" width="20" height="15" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-76"><g transform="translate(0.5,0.5)"><rect x="40" y="895" width="160" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 158px; height: 1px; padding-top: 908px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Модуль с функциями</div></div></div></foreignObject><text x="42" y="911" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px">Модуль с функциями</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-77"><g transform="translate(0.5,0.5)"><rect x="10" y="925" width="20" height="15" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-78"><g transform="translate(0.5,0.5)"><rect x="40" y="920" width="140" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 933px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Enum / Type Alias</div></div></div></foreignObject><text x="42" y="936" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px">Enum / Type Alias</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-79"><g transform="translate(0.5,0.5)"><rect x="10" y="950" width="20" height="15" fill="#e1d5e7" stroke="#9673a6" pointer-events="all" style="fill: light-dark(rgb(225, 213, 231), rgb(57, 47, 63)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-80"><g transform="translate(0.5,0.5)"><rect x="40" y="945" width="140" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 958px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Тип (Type Alias)</div></div></div></foreignObject><text x="42" y="961" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px">Тип (Type Alias)</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-81"><g transform="translate(0.5,0.5)"><rect x="10" y="975" width="20" height="15" fill="#f5f5f5" stroke="#666666" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-82"><g transform="translate(0.5,0.5)"><rect x="40" y="970" width="160" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 158px; height: 1px; padding-top: 983px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Внешняя зависимость</div></div></div></foreignObject><text x="42" y="986" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px">Внешняя зависимость</text></switch></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-83"><g transform="translate(0.5,0.5)"><path d="M 10 1003 C 10 998.58 14.48 995 20 995 C 22.65 995 25.2 995.84 27.07 997.34 C 28.95 998.84 30 1000.88 30 1003 L 30 1012 C 30 1016.42 25.52 1020 20 1020 C 14.48 1020 10 1016.42 10 1012 Z" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 30 1003 C 30 1007.42 25.52 1011 20 1011 C 14.48 1011 10 1007.42 10 1003" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-84"><g transform="translate(0.5,0.5)"><rect x="40" y="995" width="140" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 1008px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">База данных</div></div></div></foreignObject><text x="42" y="1011" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px">База данных</text></switch></g></g></g></g><g data-cell-id="ESS7ZOJCG33J2qMMD6AS-85"><g transform="translate(0.5,0.5)"><path d="M 320 840 L 490 840 L 520 870 L 520 920 L 320 920 L 320 840 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 490 840 L 490 870 L 520 870 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(237, 237, 237));"/><path d="M 490 840 L 490 870 L 520 870" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 852px; margin-left: 327px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Файлы:<br />sbmagent/rag/lightrag.py<br />sbmagent/rag/llama_index_rag.py<br />sbmagent/tools/rag_tool.py</div></div></div></foreignObject><text x="327" y="862" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px">Файлы:...</text></switch></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>