<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1861px" height="1244px" viewBox="0 0 1861 1244" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15&quot; version=&quot;29.5.1&quot;&gt;&#10;  &lt;diagram name=&quot;SBMAgent Class Diagram&quot; id=&quot;LUk0ODqhxLiomcMk11aa&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1138&quot; dy=&quot;652&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-1&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=110;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#dae8fc;strokeColor=#6c8ebf;&quot; value=&quot;sbmagent.config&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;520&quot; width=&quot;580&quot; x=&quot;40&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-2&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;Enum&amp;gt;&amp;gt;&amp;#xa;LLMProvider&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;140&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-3&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-2&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;OPENROUTER&amp;#xa;OLLAMA&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;140&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-4&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;&quot; value=&quot;ConfigBase&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;180&quot; x=&quot;200&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-5&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-4&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2&quot; value=&quot;+ model_config: SettingsConfigDict&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;22&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-6&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-4&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;180&quot; y=&quot;48&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-7&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-4&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;14&quot; width=&quot;180&quot; y=&quot;56&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-8&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;LLMConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;140&quot; width=&quot;160&quot; x=&quot;20&quot; y=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-9&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-8&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ api_key: SecretStr&amp;#xa;+ base_url: str&amp;#xa;+ chat_model: str&amp;#xa;+ embedding_model: str&amp;#xa;+ evaluation_model: str&amp;#xa;+ provider: LLMProvider&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;90&quot; width=&quot;160&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-10&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-8&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;160&quot; y=&quot;116&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-11&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-8&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;160&quot; y=&quot;124&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-12&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;RAGConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;160&quot; x=&quot;200&quot; y=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-13&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-12&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ type: RAGType&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;30&quot; width=&quot;160&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-14&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-12&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;160&quot; y=&quot;56&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-15&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-12&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;160&quot; y=&quot;64&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-16&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;DBConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;160&quot; width=&quot;180&quot; x=&quot;380&quot; y=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-17&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-16&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ qdrant_url: str&amp;#xa;+ postgres_host: str&amp;#xa;+ postgres_port: int&amp;#xa;+ postgres_username: str&amp;#xa;+ postgres_password: SecretStr&amp;#xa;+ postgres_database: str&amp;#xa;+ neo4j_url: str&amp;#xa;+ neo4j_username: str&amp;#xa;+ neo4j_password: SecretStr&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;110&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-18&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-16&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;180&quot; y=&quot;136&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-19&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-16&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;180&quot; y=&quot;144&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-20&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;MCPConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;140&quot; x=&quot;20&quot; y=&quot;330&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-21&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-20&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ base_url: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;20&quot; width=&quot;140&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-22&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-20&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;140&quot; y=&quot;46&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-23&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-20&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;140&quot; y=&quot;54&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-24&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ServerConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;160&quot; x=&quot;180&quot; y=&quot;330&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-25&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-24&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ external_url: str&amp;#xa;+ plant_uml_url: str&amp;#xa;+ image_mount_path: str&amp;#xa;+ rag_storage: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;160&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-26&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-24&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;160&quot; y=&quot;76&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-27&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-24&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;160&quot; y=&quot;84&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-28&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;LoggingConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;160&quot; width=&quot;180&quot; x=&quot;360&quot; y=&quot;330&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-29&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-28&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ level: LogLevel&amp;#xa;+ file_path: str&amp;#xa;+ max_file_size: int&amp;#xa;+ backup_count: int&amp;#xa;+ format: str&amp;#xa;+ console_enabled: bool&amp;#xa;+ file_enabled: bool&amp;#xa;+ lightrag_level: LogLevel&amp;#xa;+ module_levels: Optional[str]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;110&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-30&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-28&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;180&quot; y=&quot;136&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-31&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-28&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;180&quot; y=&quot;144&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-32&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;Config&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;170&quot; width=&quot;180&quot; x=&quot;680&quot; y=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-33&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-32&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ llm: LLMConfig&amp;#xa;+ rag: RAGConfig&amp;#xa;+ db: DBConfig&amp;#xa;+ mcp: MCPConfig&amp;#xa;+ server: ServerConfig&amp;#xa;+ logging: LoggingConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;90&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-34&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-32&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;180&quot; y=&quot;116&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-35&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-32&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ load(): Config&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;46&quot; width=&quot;180&quot; y=&quot;124&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-36&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-8&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-37&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-12&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-38&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-16&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-39&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-20&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-40&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-24&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-4&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-41&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-8&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-42&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-12&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-43&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-16&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-44&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-20&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-45&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-24&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-46&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-28&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-32&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-47&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=110;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; value=&quot;sbmagent.schemas&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;260&quot; width=&quot;380&quot; x=&quot;900&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-48&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-47&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;TypedDict&amp;gt;&amp;gt;&amp;#xa;AgentState&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;160&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-49&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-48&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ messages: list[Message]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;160&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-50&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-47&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;C4DiagramPlan&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;90&quot; width=&quot;160&quot; x=&quot;200&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-51&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-50&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ plant_uml_code: str&amp;#xa;+ description: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;160&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-52&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-50&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;160&quot; y=&quot;66&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-53&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-50&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ fix_plantuml_syntax()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;16&quot; width=&quot;160&quot; y=&quot;74&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-54&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-47&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;C4DiagramResponse&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;160&quot; x=&quot;20&quot; y=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-55&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-54&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ plant_uml_code: str&amp;#xa;+ image_path: str&amp;#xa;+ description: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;160&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-56&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=130;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#ffe6cc;strokeColor=#d79b00;&quot; value=&quot;sbmagent.api.schemas&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;520&quot; width=&quot;580&quot; x=&quot;1320&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-57&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ChatMessage&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;130&quot; width=&quot;180&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-58&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-57&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ role: str&amp;#xa;+ content: str | list[dict]&amp;#xa;+ id: str | None&amp;#xa;+ parentId: str | None&amp;#xa;+ childrenIds: list[str] | None&amp;#xa;+ timestamp: int | None&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;104&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-59&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ChatCompletionRequest&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;230&quot; width=&quot;180&quot; x=&quot;220&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-60&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-59&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ model: str&amp;#xa;+ messages: list[ChatMessage]&amp;#xa;+ temperature: float | None&amp;#xa;+ top_p: float | None&amp;#xa;+ n: int | None&amp;#xa;+ stream: bool | None&amp;#xa;+ stop: list[str] | None&amp;#xa;+ max_tokens: int | None&amp;#xa;+ presence_penalty: float | None&amp;#xa;+ frequency_penalty: float | None&amp;#xa;+ logit_bias: dict | None&amp;#xa;+ chat_id: str | None&amp;#xa;+ metadata: dict | None&amp;#xa;+ version: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;204&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-61&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ChatMessageDelta&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;140&quot; x=&quot;420&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-62&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-61&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ role: str | None&amp;#xa;+ content: str | None&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;44&quot; width=&quot;140&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-63&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ChatCompletionChunkChoice&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;90&quot; width=&quot;140&quot; x=&quot;420&quot; y=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-64&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-63&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ index: int&amp;#xa;+ finish_reason: str | None&amp;#xa;+ delta: ChatMessageDelta&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;64&quot; width=&quot;140&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-65&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;&quot; value=&quot;SSEMixin&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;140&quot; x=&quot;20&quot; y=&quot;210&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-66&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-65&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;140&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-67&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-65&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ to_sse(): str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;140&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-68&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ChatCompletionChunk&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;110&quot; width=&quot;180&quot; x=&quot;20&quot; y=&quot;310&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-69&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-68&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ id: str&amp;#xa;+ object: str&amp;#xa;+ created: float&amp;#xa;+ model: str&amp;#xa;+ choices: list[ChunkChoice]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;84&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-70&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ModelItem&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;140&quot; x=&quot;220&quot; y=&quot;310&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-71&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-70&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ id: str&amp;#xa;+ object: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;44&quot; width=&quot;140&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-72&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-56&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;ModelListResponse&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;160&quot; x=&quot;220&quot; y=&quot;410&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-73&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-72&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ object: str&amp;#xa;+ data: list[ModelItem]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;44&quot; width=&quot;160&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-74&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-68&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-65&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-75&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-57&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamondThin;endFill=0;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-59&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-76&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-63&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamondThin;endFill=0;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-68&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-77&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-61&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-63&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-78&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-70&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamondThin;endFill=0;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-72&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-79&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=100;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#f8cecc;strokeColor=#b85450;&quot; value=&quot;sbmagent.llms&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;200&quot; width=&quot;280&quot; x=&quot;40&quot; y=&quot;600&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-80&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-79&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;LLMFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;120&quot; width=&quot;240&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-81&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-80&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;240&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-82&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-80&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ get_llm(provider, name): BaseChatModel&amp;#xa;+ get_ollama_llm(name): ChatOllama&amp;#xa;+ get_openrouter_llm(name): ChatOpenAI&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;86&quot; width=&quot;240&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-83&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;LLMFactoryException&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;140&quot; x=&quot;350&quot; y=&quot;650&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-84&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-83&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2&quot; value=&quot;(inherits Exception)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;24&quot; width=&quot;140&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-85&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=100;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;sbmagent.tools&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;320&quot; width=&quot;380&quot; x=&quot;520&quot; y=&quot;600&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-86&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-85&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;MCPToolWrapper&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;140&quot; width=&quot;200&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-87&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-86&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ name: str&amp;#xa;+ description: Optional[str]&amp;#xa;+ mcp_server_url: str&amp;#xa;+ tool_schema: Dict&amp;#xa;+ args_schema: Type[BaseModel]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;200&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-88&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-86&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;200&quot; y=&quot;96&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-89&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-86&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ _run(**kwargs): str&amp;#xa;+ _arun(**kwargs): str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;200&quot; y=&quot;104&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-90&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-85&quot; style=&quot;swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;&quot; value=&quot;&amp;lt;&amp;lt;langchain&amp;gt;&amp;gt;&amp;#xa;BaseTool&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;140&quot; x=&quot;20&quot; y=&quot;220&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-91&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-90&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2&quot; value=&quot;(external)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;30&quot; width=&quot;140&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-92&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-85&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;RAGToolFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;120&quot; x=&quot;240&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-93&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-92&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;120&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-94&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-92&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ init_rag_tool()&amp;#xa;+ create_llama_index_tool()&amp;#xa;+ create_lightrag_tool()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;66&quot; width=&quot;120&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-95&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-86&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-90&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-96&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=130;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#dae8fc;strokeColor=#6c8ebf;&quot; value=&quot;sbmagent.evaluation&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;620&quot; width=&quot;960&quot; x=&quot;940&quot; y=&quot;600&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-97&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;MetricThresholds&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;200&quot; width=&quot;180&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-98&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-97&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ task_completion: float&amp;#xa;+ tool_correctness: float&amp;#xa;+ answer_relevancy: float&amp;#xa;+ contextual_relevancy: float&amp;#xa;+ faithfulness: float&amp;#xa;+ coherence: float&amp;#xa;+ helpfulness: float&amp;#xa;+ correctness: float&amp;#xa;+ tool_usage: float&amp;#xa;+ mcp_execution: float&amp;#xa;+ mcp_data_quality: float&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;174&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-99&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;EvaluationConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;160&quot; width=&quot;200&quot; x=&quot;220&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-100&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-99&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ thresholds: MetricThresholds&amp;#xa;+ evaluation_model: str&amp;#xa;+ include_reason: bool&amp;#xa;+ async_evaluation: bool&amp;#xa;+ api_key: str&amp;#xa;+ base_url: str&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;90&quot; width=&quot;200&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-101&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-99&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;200&quot; y=&quot;116&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-102&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-99&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ from_app_config(config): EvaluationConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;200&quot; y=&quot;124&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-103&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;&quot; value=&quot;&amp;lt;&amp;lt;ABC&amp;gt;&amp;gt;&amp;#xa;MetricFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;120&quot; width=&quot;200&quot; x=&quot;440&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-104&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-103&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ eval_config: EvaluationConfig&amp;#xa;- _eval_model: Optional[GPTModel]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-105&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-103&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;200&quot; y=&quot;76&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-106&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-103&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2&quot; value=&quot;+ create_metrics(): List[BaseMetric]&amp;#xa;# eval_model: GPTModel (property)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;36&quot; width=&quot;200&quot; y=&quot;84&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-107&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;MetricRegistry&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;120&quot; width=&quot;280&quot; x=&quot;660&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-108&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-107&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;- _factories: Dict[str, Type[MetricFactory]]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;26&quot; width=&quot;280&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-109&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-107&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;280&quot; y=&quot;52&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-110&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-107&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ register(name): decorator&amp;#xa;+ get_factory(name): Type[MetricFactory]&amp;#xa;+ get_all_metrics(config, categories): List[BaseMetric]&amp;#xa;+ list_categories(): List[str]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;60&quot; width=&quot;280&quot; y=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-111&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;AgentMetricFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;20&quot; y=&quot;290&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-112&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-111&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;200&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-113&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-111&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ create_metrics(): List[BaseMetric]&amp;#xa;+ create_task_completion_metric()&amp;#xa;+ create_tool_selection_metric()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;66&quot; width=&quot;200&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-114&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;GeneralMetricFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;180&quot; x=&quot;240&quot; y=&quot;290&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-115&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-114&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;180&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-116&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-114&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ create_metrics(): List&amp;#xa;+ create_coherence_metric()&amp;#xa;+ create_helpfulness_metric()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;66&quot; width=&quot;180&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-117&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;RAGMetricFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;120&quot; width=&quot;200&quot; x=&quot;440&quot; y=&quot;290&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-118&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-117&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;200&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-119&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-117&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ create_metrics(): List&amp;#xa;+ create_retriever_metrics()&amp;#xa;+ create_answer_relevancy_metric()&amp;#xa;+ create_faithfulness_metric()&amp;#xa;+ create_contextual_relevancy_metric()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;86&quot; width=&quot;200&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-120&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;MCPMetricFactory&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;660&quot; y=&quot;290&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-121&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-120&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;200&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-122&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-120&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ create_metrics(): List&amp;#xa;+ create_mcp_execution_metric()&amp;#xa;+ create_mcp_data_quality_metric()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;66&quot; width=&quot;200&quot; y=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-123&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;dataclass&amp;gt;&amp;gt;&amp;#xa;EvaluationResult&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;200&quot; x=&quot;20&quot; y=&quot;430&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-124&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-123&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ test_results: List[Any]&amp;#xa;+ metrics_summary: Dict[str, float]&amp;#xa;+ raw_results: Optional[Any]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;60&quot; width=&quot;200&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-125&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;AgentEvaluator&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;170&quot; width=&quot;260&quot; x=&quot;240&quot; y=&quot;430&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-126&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-125&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ eval_config: EvaluationConfig&amp;#xa;+ traced_component: TracedComponent&amp;#xa;- _supervisor: Optional[CompiledStateGraph]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;50&quot; width=&quot;260&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-127&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-125&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;260&quot; y=&quot;76&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-128&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-125&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ initialize()&amp;#xa;+ get_traced_response(input, expected)&amp;#xa;+ get_response(input): str&amp;#xa;+ run_trace_evaluation(data, categories)&amp;#xa;+ run_batch_evaluation(data, categories)&amp;#xa;+ run_full_evaluation(data, ...)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;86&quot; width=&quot;260&quot; y=&quot;84&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-129&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-96&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;&quot; value=&quot;TracedComponent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;240&quot; x=&quot;520&quot; y=&quot;430&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-130&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-129&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ eval_config: EvaluationConfig&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;22&quot; width=&quot;240&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-131&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-129&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; value=&quot;&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;8&quot; width=&quot;240&quot; y=&quot;48&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-132&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-129&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ wrap_agent_function(func, expected, metrics)&amp;#xa;+ wrap_tool_function(func, name, metrics)&amp;#xa;+ wrap_sync_tool_function(func, name, metrics)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;44&quot; width=&quot;240&quot; y=&quot;56&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-133&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-111&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-103&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-134&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-114&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-103&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-135&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-117&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-103&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-136&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-120&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;strokeWidth=2;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-103&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-137&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-97&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-99&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-138&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-129&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=diamond;endFill=1;strokeWidth=2;startArrow=none;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-125&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-139&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-125&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-99&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-140&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-107&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-103&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-141&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=110;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; value=&quot;sbmagent.agents&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;240&quot; width=&quot;420&quot; x=&quot;40&quot; y=&quot;840&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-142&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-141&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;diagram_agent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;180&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-143&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-142&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ generate_uml(code, path): str&amp;#xa;+ create_c4_agent(): CompiledGraph&amp;#xa;+ generate_uml_text_plan(): str&amp;#xa;+ generate_c4_agent(): CompiledGraph&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;60&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-144&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-141&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;rag_agent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;70&quot; width=&quot;180&quot; x=&quot;220&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-145&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-144&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ get_graph(): CompiledStateGraph&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;30&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-146&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-141&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;supervisor&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;180&quot; x=&quot;220&quot; y=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-147&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-146&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ create_supervisor_agent():&amp;#xa;    CompiledStateGraph&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-148&quot; parent=&quot;1&quot; style=&quot;shape=folder;fontStyle=1;tabWidth=100;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;labelInHeader=1;container=1;collapsible=0;recursiveResize=0;fillColor=#f8cecc;strokeColor=#b85450;&quot; value=&quot;sbmagent.api&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;280&quot; width=&quot;400&quot; x=&quot;500&quot; y=&quot;960&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-149&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-148&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; value=&quot;&amp;lt;&amp;lt;FastAPI&amp;gt;&amp;gt;&amp;#xa;app&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;160&quot; x=&quot;20&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-150&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-149&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ chat_router&amp;#xa;+ models_router&amp;#xa;+ CORS middleware&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;40&quot; width=&quot;160&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-151&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-148&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;routes.chat&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;180&quot; x=&quot;200&quot; y=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-152&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-151&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ sse_astream(graph, input, ...)&amp;#xa;+ get_full_response(graph, input)&amp;#xa;+ create_completion_response()&amp;#xa;+ chat_completions(payload)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;60&quot; width=&quot;180&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-153&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-148&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;&quot; value=&quot;&amp;lt;&amp;lt;module&amp;gt;&amp;gt;&amp;#xa;routes.models&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;160&quot; x=&quot;20&quot; y=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-154&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-153&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot;+ list_models()&amp;#xa;+ ollama_tags()&amp;#xa;+ ollama_ps()&amp;#xa;+ ollama_version()&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;60&quot; width=&quot;160&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-155&quot; parent=&quot;1&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;&quot; value=&quot;Legend&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;160&quot; width=&quot;360&quot; x=&quot;40&quot; y=&quot;1120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-156&quot; parent=&quot;DzBw-flqcTti6L8s_BY_-155&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; value=&quot; Hollow arrow (): Inheritance/Implements&amp;#xa; Filled diamond (): Composition (strong ownership)&amp;#xa; Hollow diamond (): Aggregation (weak ownership)&amp;#xa; Dashed arrow (--): Association/Dependency&amp;#xa; Yellow classes: Enums / TypedDicts / Dataclasses&amp;#xa; Gray classes: Abstract / External&amp;#xa; Green classes: Main entry points / Factories&amp;#xa; Package colors: Config(blue), Schemas(purple),&amp;#xa;   API(orange), LLM(red), Tools(green), Eval(blue)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;134&quot; width=&quot;360&quot; y=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-157&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-32&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-80&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-158&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-80&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-92&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-159&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-86&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-146&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-160&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-146&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-151&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DzBw-flqcTti6L8s_BY_-161&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;DzBw-flqcTti6L8s_BY_-125&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;strokeWidth=1;dashed=1;&quot; target=&quot;DzBw-flqcTti6L8s_BY_-146&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" resource="https://app.diagrams.net/?src=about#Hpavel-collab%2FAgentic-system-images%2Fmain%2FFullProjectUML.drawio.svg#%7B%22pageId%22%3A%22LUk0ODqhxLiomcMk11aa%22%7D"><defs><clipPath id="mx-clip-24-95-132-40-0"><rect x="24" y="95" width="132" height="40"/></clipPath><clipPath id="mx-clip-204-81-172-22-0"><rect x="204" y="81" width="172" height="22"/></clipPath><clipPath id="mx-clip-24-191-152-90-0"><rect x="24" y="191" width="152" height="90"/></clipPath><clipPath id="mx-clip-204-191-152-30-0"><rect x="204" y="191" width="152" height="30"/></clipPath><clipPath id="mx-clip-384-191-172-110-0"><rect x="384" y="191" width="172" height="110"/></clipPath><clipPath id="mx-clip-24-361-132-20-0"><rect x="24" y="361" width="132" height="20"/></clipPath><clipPath id="mx-clip-184-361-152-50-0"><rect x="184" y="361" width="152" height="50"/></clipPath><clipPath id="mx-clip-364-361-172-110-0"><rect x="364" y="361" width="172" height="110"/></clipPath><clipPath id="mx-clip-644-121-172-90-0"><rect x="644" y="121" width="172" height="90"/></clipPath><clipPath id="mx-clip-644-219-172-46-0"><rect x="644" y="219" width="172" height="46"/></clipPath><clipPath id="mx-clip-884-95-152-40-0"><rect x="884" y="95" width="152" height="40"/></clipPath><clipPath id="mx-clip-1064-81-152-40-0"><rect x="1064" y="81" width="152" height="40"/></clipPath><clipPath id="mx-clip-1064-129-152-16-0"><rect x="1064" y="129" width="152" height="16"/></clipPath><clipPath id="mx-clip-884-191-152-54-0"><rect x="884" y="191" width="152" height="54"/></clipPath><clipPath id="mx-clip-1304-81-172-104-0"><rect x="1304" y="81" width="172" height="104"/></clipPath><clipPath id="mx-clip-1504-81-172-204-0"><rect x="1504" y="81" width="172" height="204"/></clipPath><clipPath id="mx-clip-1704-81-132-44-0"><rect x="1704" y="81" width="132" height="44"/></clipPath><clipPath id="mx-clip-1704-171-132-64-0"><rect x="1704" y="171" width="132" height="64"/></clipPath><clipPath id="mx-clip-1304-249-132-36-0"><rect x="1304" y="249" width="132" height="36"/></clipPath><clipPath id="mx-clip-1304-341-172-84-0"><rect x="1304" y="341" width="172" height="84"/></clipPath><clipPath id="mx-clip-1504-341-132-44-0"><rect x="1504" y="341" width="132" height="44"/></clipPath><clipPath id="mx-clip-1504-441-152-44-0"><rect x="1504" y="441" width="152" height="44"/></clipPath><clipPath id="mx-clip-24-649-232-86-0"><rect x="24" y="649" width="232" height="86"/></clipPath><clipPath id="mx-clip-314-641-132-24-0"><rect x="314" y="641" width="132" height="24"/></clipPath><clipPath id="mx-clip-504-641-192-70-0"><rect x="504" y="641" width="192" height="70"/></clipPath><clipPath id="mx-clip-504-719-192-36-0"><rect x="504" y="719" width="192" height="36"/></clipPath><clipPath id="mx-clip-504-825-132-30-0"><rect x="504" y="825" width="132" height="30"/></clipPath><clipPath id="mx-clip-724-649-112-66-0"><rect x="724" y="649" width="112" height="66"/></clipPath><clipPath id="mx-clip-924-641-172-174-0"><rect x="924" y="641" width="172" height="174"/></clipPath><clipPath id="mx-clip-1124-641-192-90-0"><rect x="1124" y="641" width="192" height="90"/></clipPath><clipPath id="mx-clip-1124-739-192-36-0"><rect x="1124" y="739" width="192" height="36"/></clipPath><clipPath id="mx-clip-1344-655-192-36-0"><rect x="1344" y="655" width="192" height="36"/></clipPath><clipPath id="mx-clip-1344-699-192-36-0"><rect x="1344" y="699" width="192" height="36"/></clipPath><clipPath id="mx-clip-1564-641-272-26-0"><rect x="1564" y="641" width="272" height="26"/></clipPath><clipPath id="mx-clip-1564-675-272-60-0"><rect x="1564" y="675" width="272" height="60"/></clipPath><clipPath id="mx-clip-924-889-192-66-0"><rect x="924" y="889" width="192" height="66"/></clipPath><clipPath id="mx-clip-1144-889-172-66-0"><rect x="1144" y="889" width="172" height="66"/></clipPath><clipPath id="mx-clip-1344-889-192-86-0"><rect x="1344" y="889" width="192" height="86"/></clipPath><clipPath id="mx-clip-1564-889-192-66-0"><rect x="1564" y="889" width="192" height="66"/></clipPath><clipPath id="mx-clip-924-1035-192-60-0"><rect x="924" y="1035" width="192" height="60"/></clipPath><clipPath id="mx-clip-1144-1021-252-50-0"><rect x="1144" y="1021" width="252" height="50"/></clipPath><clipPath id="mx-clip-1144-1079-252-86-0"><rect x="1144" y="1079" width="252" height="86"/></clipPath><clipPath id="mx-clip-1424-1021-232-22-0"><rect x="1424" y="1021" width="232" height="22"/></clipPath><clipPath id="mx-clip-1424-1051-232-44-0"><rect x="1424" y="1051" width="232" height="44"/></clipPath><clipPath id="mx-clip-24-895-172-60-0"><rect x="24" y="895" width="172" height="60"/></clipPath><clipPath id="mx-clip-224-895-172-30-0"><rect x="224" y="895" width="172" height="30"/></clipPath><clipPath id="mx-clip-224-985-172-40-0"><rect x="224" y="985" width="172" height="40"/></clipPath><clipPath id="mx-clip-484-1015-152-40-0"><rect x="484" y="1015" width="152" height="40"/></clipPath><clipPath id="mx-clip-664-1015-172-60-0"><rect x="664" y="1015" width="172" height="60"/></clipPath><clipPath id="mx-clip-484-1125-152-60-0"><rect x="484" y="1125" width="152" height="60"/></clipPath><clipPath id="mx-clip-4-1111-352-134-0"><rect x="4" y="1111" width="352" height="134"/></clipPath></defs><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="DzBw-flqcTti6L8s_BY_-1"><g transform="translate(0.5,0.5)"><path d="M 0 30 L 0 0 L 110 0 L 110 30 M 0 30 L 580 30 L 580 520 L 0 520 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 55px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.config</div></div></div></foreignObject><text x="55" y="18" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.config</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-2"><g transform="translate(0.5,0.5)"><path d="M 20 90 L 20 50 L 160 50 L 160 90" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 20 90 L 20 130 L 160 130 L 160 90" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 20 90 L 160 90" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="90" y="68">&lt;&lt;Enum&gt;&gt;</text><text x="90" y="82">LLMProvider</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-3"><g transform="translate(0.5,0.5)"><rect x="20" y="90" width="140" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-24-95-132-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="26" y="108">OPENROUTER</text><text x="26" y="122">OLLAMA</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-4"><g transform="translate(0.5,0.5)"><path d="M 200 76 L 200 50 L 380 50 L 380 76" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 200 76 L 200 120 L 380 120 L 380 76" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 200 76 L 380 76" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-weight="bold" font-style="italic" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="290" y="68">ConfigBase</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-5"><g transform="translate(0.5,0.5)"><rect x="200" y="76" width="180" height="22" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" font-size="11.999999999999998px" clip-path="url(#mx-clip-204-81-172-22-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="206" y="94">+ model_config: SettingsConfigDict</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-6"><g transform="translate(0.5,0.5)"><path d="M 200 102 L 380 102" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-7"><g transform="translate(0.5,0.5)"><rect x="200" y="106" width="180" height="14" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-8"><g transform="translate(0.5,0.5)"><path d="M 20 186 L 20 160 L 180 160 L 180 186" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 186 L 20 300 L 180 300 L 180 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 186 L 180 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="100" y="178">LLMConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-9"><g transform="translate(0.5,0.5)"><rect x="20" y="186" width="160" height="90" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-24-191-152-90-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="26" y="204">+ api_key: SecretStr</text><text x="26" y="218">+ base_url: str</text><text x="26" y="232">+ chat_model: str</text><text x="26" y="246">+ embedding_model: str</text><text x="26" y="260">+ evaluation_model: str</text><text x="26" y="274">+ provider: LLMProvider</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-10"><g transform="translate(0.5,0.5)"><path d="M 20 280 L 180 280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-11"><g transform="translate(0.5,0.5)"><rect x="20" y="284" width="160" height="16" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-12"><g transform="translate(0.5,0.5)"><path d="M 200 186 L 200 160 L 360 160 L 360 186" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 200 186 L 200 240 L 360 240 L 360 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 200 186 L 360 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="280" y="178">RAGConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-13"><g transform="translate(0.5,0.5)"><rect x="200" y="186" width="160" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-204-191-152-30-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="206" y="204">+ type: RAGType</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-14"><g transform="translate(0.5,0.5)"><path d="M 200 220 L 360 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-15"><g transform="translate(0.5,0.5)"><rect x="200" y="224" width="160" height="16" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-16"><g transform="translate(0.5,0.5)"><path d="M 380 186 L 380 160 L 560 160 L 560 186" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 380 186 L 380 320 L 560 320 L 560 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 380 186 L 560 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="470" y="178">DBConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-17"><g transform="translate(0.5,0.5)"><rect x="380" y="186" width="180" height="110" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-384-191-172-110-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="386" y="204">+ qdrant_url: str</text><text x="386" y="218">+ postgres_host: str</text><text x="386" y="232">+ postgres_port: int</text><text x="386" y="246">+ postgres_username: str</text><text x="386" y="260">+ postgres_password: SecretStr</text><text x="386" y="274">+ postgres_database: str</text><text x="386" y="288">+ neo4j_url: str</text><text x="386" y="302">+ neo4j_username: str</text><text x="386" y="316">+ neo4j_password: SecretStr</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-18"><g transform="translate(0.5,0.5)"><path d="M 380 300 L 560 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-19"><g transform="translate(0.5,0.5)"><rect x="380" y="304" width="180" height="16" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-20"><g transform="translate(0.5,0.5)"><path d="M 20 356 L 20 330 L 160 330 L 160 356" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 356 L 20 400 L 160 400 L 160 356" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 356 L 160 356" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="90" y="348">MCPConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-21"><g transform="translate(0.5,0.5)"><rect x="20" y="356" width="140" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-24-361-132-20-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="26" y="374">+ base_url: str</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-22"><g transform="translate(0.5,0.5)"><path d="M 20 380 L 160 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-23"><g transform="translate(0.5,0.5)"><rect x="20" y="384" width="140" height="16" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-24"><g transform="translate(0.5,0.5)"><path d="M 180 356 L 180 330 L 340 330 L 340 356" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 180 356 L 180 430 L 340 430 L 340 356" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 180 356 L 340 356" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="260" y="348">ServerConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-25"><g transform="translate(0.5,0.5)"><rect x="180" y="356" width="160" height="50" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-184-361-152-50-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="186" y="374">+ external_url: str</text><text x="186" y="388">+ plant_uml_url: str</text><text x="186" y="402">+ image_mount_path: str</text><text x="186" y="416">+ rag_storage: str</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-26"><g transform="translate(0.5,0.5)"><path d="M 180 410 L 340 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-27"><g transform="translate(0.5,0.5)"><rect x="180" y="414" width="160" height="16" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-28"><g transform="translate(0.5,0.5)"><path d="M 360 356 L 360 330 L 540 330 L 540 356" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 360 356 L 360 490 L 540 490 L 540 356" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 360 356 L 540 356" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="450" y="348">LoggingConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-29"><g transform="translate(0.5,0.5)"><rect x="360" y="356" width="180" height="110" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-364-361-172-110-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="366" y="374">+ level: LogLevel</text><text x="366" y="388">+ file_path: str</text><text x="366" y="402">+ max_file_size: int</text><text x="366" y="416">+ backup_count: int</text><text x="366" y="430">+ format: str</text><text x="366" y="444">+ console_enabled: bool</text><text x="366" y="458">+ file_enabled: bool</text><text x="366" y="472">+ lightrag_level: LogLevel</text><text x="366" y="486">+ module_levels: Optional[str]</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-30"><g transform="translate(0.5,0.5)"><path d="M 360 470 L 540 470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-31"><g transform="translate(0.5,0.5)"><rect x="360" y="474" width="180" height="16" fill="none" stroke="none" pointer-events="all"/></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-32"><g transform="translate(0.5,0.5)"><path d="M 640 116 L 640 90 L 820 90 L 820 116" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 640 116 L 640 260 L 820 260 L 820 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 640 116 L 820 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="730" y="108">Config</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-33"><g transform="translate(0.5,0.5)"><rect x="640" y="116" width="180" height="90" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-644-121-172-90-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="646" y="134">+ llm: LLMConfig</text><text x="646" y="148">+ rag: RAGConfig</text><text x="646" y="162">+ db: DBConfig</text><text x="646" y="176">+ mcp: MCPConfig</text><text x="646" y="190">+ server: ServerConfig</text><text x="646" y="204">+ logging: LoggingConfig</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-34"><g transform="translate(0.5,0.5)"><path d="M 640 210 L 820 210" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-35"><g transform="translate(0.5,0.5)"><rect x="640" y="214" width="180" height="46" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-644-219-172-46-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="646" y="232">+ load(): Config</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-36"><g><path d="M 180 230 L 290 230 L 290 130.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 290 122.24 L 294 130.24 L 286 130.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-37"><g><path d="M 280 160 L 280 140 L 290 140 L 290 130.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 290 122.24 L 294 130.24 L 286 130.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-38"><g><path d="M 470 160 L 470 140 L 290 140 L 290 130.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 290 122.24 L 294 130.24 L 286 130.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-39"><g><path d="M 160 365.05 L 290 365.05 L 290 130.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 290 122.24 L 294 130.24 L 286 130.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-40"><g><path d="M 260 330 L 260 225.05 L 290 225.05 L 290 130.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 290 122.24 L 294 130.24 L 286 130.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-41"><g><path d="M 180 230 L 410 230 L 410 175.05 L 630.59 175.05" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 638.59 175.05 L 634.59 179.05 L 630.59 175.05 L 634.59 171.05 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-42"><g><path d="M 360 200 L 500 200 L 500 175.05 L 630.59 175.05" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 638.59 175.05 L 634.59 179.05 L 630.59 175.05 L 634.59 171.05 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-43"><g><path d="M 560 240 L 600 240 L 600 175.05 L 630.59 175.05" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 638.59 175.05 L 634.59 179.05 L 630.59 175.05 L 634.59 171.05 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-44"><g><path d="M 160 365.05 L 730 365.05 L 730 269.41" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 730 261.41 L 734 265.41 L 730 269.41 L 726 265.41 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-45"><g><path d="M 340 380 L 730 380 L 730 269.41" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 730 261.41 L 734 265.41 L 730 269.41 L 726 265.41 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-46"><g><path d="M 540 410 L 730 410 L 730 269.41" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 730 261.41 L 734 265.41 L 730 269.41 L 726 265.41 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-47"><g transform="translate(0.5,0.5)"><path d="M 860 30 L 860 0 L 970 0 L 970 30 M 860 30 L 1240 30 L 1240 260 L 860 260 Z" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(225, 213, 231), rgb(57, 47, 63)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 915px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.schemas</div></div></div></foreignObject><text x="915" y="18" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.schemas</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-48"><g transform="translate(0.5,0.5)"><path d="M 880 90 L 880 50 L 1040 50 L 1040 90" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 880 90 L 880 130 L 1040 130 L 1040 90" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 880 90 L 1040 90" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="960" y="68">&lt;&lt;TypedDict&gt;&gt;</text><text x="960" y="82">AgentState</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-49"><g transform="translate(0.5,0.5)"><rect x="880" y="90" width="160" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-884-95-152-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="886" y="108">+ messages: list[Message]</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-50"><g transform="translate(0.5,0.5)"><path d="M 1060 76 L 1060 50 L 1220 50 L 1220 76" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1060 76 L 1060 140 L 1220 140 L 1220 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1060 76 L 1220 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1140" y="68">C4DiagramPlan</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-51"><g transform="translate(0.5,0.5)"><rect x="1060" y="76" width="160" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1064-81-152-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1066" y="94">+ plant_uml_code: str</text><text x="1066" y="108">+ description: str</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-52"><g transform="translate(0.5,0.5)"><path d="M 1060 120 L 1220 120" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-53"><g transform="translate(0.5,0.5)"><rect x="1060" y="124" width="160" height="16" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1064-129-152-16-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1066" y="142">+ fix_plantuml_syntax()</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-54"><g transform="translate(0.5,0.5)"><path d="M 880 186 L 880 160 L 1040 160 L 1040 186" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 880 186 L 880 240 L 1040 240 L 1040 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 880 186 L 1040 186" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="960" y="178">C4DiagramResponse</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-55"><g transform="translate(0.5,0.5)"><rect x="880" y="186" width="160" height="54" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-884-191-152-54-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="886" y="204">+ plant_uml_code: str</text><text x="886" y="218">+ image_path: str</text><text x="886" y="232">+ description: str</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-56"><g transform="translate(0.5,0.5)"><path d="M 1280 30 L 1280 0 L 1410 0 L 1410 30 M 1280 30 L 1860 30 L 1860 520 L 1280 520 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 1345px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.api.schemas</div></div></div></foreignObject><text x="1345" y="18" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.api.schemas</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-57"><g transform="translate(0.5,0.5)"><path d="M 1300 76 L 1300 50 L 1480 50 L 1480 76" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1300 76 L 1300 180 L 1480 180 L 1480 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1300 76 L 1480 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1390" y="68">ChatMessage</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-58"><g transform="translate(0.5,0.5)"><rect x="1300" y="76" width="180" height="104" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1304-81-172-104-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1306" y="94">+ role: str</text><text x="1306" y="108">+ content: str | list[dict]</text><text x="1306" y="122">+ id: str | None</text><text x="1306" y="136">+ parentId: str | None</text><text x="1306" y="150">+ childrenIds: list[str] | None</text><text x="1306" y="164">+ timestamp: int | None</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-59"><g transform="translate(0.5,0.5)"><path d="M 1500 76 L 1500 50 L 1680 50 L 1680 76" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 76 L 1500 280 L 1680 280 L 1680 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 76 L 1680 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1590" y="68">ChatCompletionRequest</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-60"><g transform="translate(0.5,0.5)"><rect x="1500" y="76" width="180" height="204" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1504-81-172-204-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1506" y="94">+ model: str</text><text x="1506" y="108">+ messages: list[ChatMessage]</text><text x="1506" y="122">+ temperature: float | None</text><text x="1506" y="136">+ top_p: float | None</text><text x="1506" y="150">+ n: int | None</text><text x="1506" y="164">+ stream: bool | None</text><text x="1506" y="178">+ stop: list[str] | None</text><text x="1506" y="192">+ max_tokens: int | None</text><text x="1506" y="206">+ presence_penalty: float | None</text><text x="1506" y="220">+ frequency_penalty: float | None</text><text x="1506" y="234">+ logit_bias: dict | None</text><text x="1506" y="248">+ chat_id: str | None</text><text x="1506" y="262">+ metadata: dict | None</text><text x="1506" y="276">+ version: str</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-61"><g transform="translate(0.5,0.5)"><path d="M 1700 76 L 1700 50 L 1840 50 L 1840 76" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1700 76 L 1700 120 L 1840 120 L 1840 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1700 76 L 1840 76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1770" y="68">ChatMessageDelta</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-62"><g transform="translate(0.5,0.5)"><rect x="1700" y="76" width="140" height="44" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1704-81-132-44-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1706" y="94">+ role: str | None</text><text x="1706" y="108">+ content: str | None</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-63"><g transform="translate(0.5,0.5)"><path d="M 1700 166 L 1700 140 L 1840 140 L 1840 166" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1700 166 L 1700 230 L 1840 230 L 1840 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1700 166 L 1840 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1770" y="158">ChatCompletionChunkChoice</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-64"><g transform="translate(0.5,0.5)"><rect x="1700" y="166" width="140" height="64" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1704-171-132-64-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1706" y="184">+ index: int</text><text x="1706" y="198">+ finish_reason: str | None</text><text x="1706" y="212">+ delta: ChatMessageDelta</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-65"><g transform="translate(0.5,0.5)"><path d="M 1300 236 L 1300 210 L 1440 210 L 1440 236" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1300 236 L 1300 280 L 1440 280 L 1440 236" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1300 236 L 1440 236" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="1370" y="228">SSEMixin</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-66"><g transform="translate(0.5,0.5)"><path d="M 1300 240 L 1440 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-67"><g transform="translate(0.5,0.5)"><rect x="1300" y="244" width="140" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1304-249-132-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1306" y="262">+ to_sse(): str</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-68"><g transform="translate(0.5,0.5)"><path d="M 1300 336 L 1300 310 L 1480 310 L 1480 336" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1300 336 L 1300 420 L 1480 420 L 1480 336" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1300 336 L 1480 336" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1390" y="328">ChatCompletionChunk</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-69"><g transform="translate(0.5,0.5)"><rect x="1300" y="336" width="180" height="84" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1304-341-172-84-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1306" y="354">+ id: str</text><text x="1306" y="368">+ object: str</text><text x="1306" y="382">+ created: float</text><text x="1306" y="396">+ model: str</text><text x="1306" y="410">+ choices: list[ChunkChoice]</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-70"><g transform="translate(0.5,0.5)"><path d="M 1500 336 L 1500 310 L 1640 310 L 1640 336" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 336 L 1500 380 L 1640 380 L 1640 336" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 336 L 1640 336" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1570" y="328">ModelItem</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-71"><g transform="translate(0.5,0.5)"><rect x="1500" y="336" width="140" height="44" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1504-341-132-44-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1506" y="354">+ id: str</text><text x="1506" y="368">+ object: str</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-72"><g transform="translate(0.5,0.5)"><path d="M 1500 436 L 1500 410 L 1660 410 L 1660 436" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 436 L 1500 480 L 1660 480 L 1660 436" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 436 L 1660 436" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1580" y="428">ModelListResponse</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-73"><g transform="translate(0.5,0.5)"><rect x="1500" y="436" width="160" height="44" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1504-441-152-44-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1506" y="454">+ object: str</text><text x="1506" y="468">+ data: list[ModelItem]</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-74"><g><path d="M 1390 310 L 1390 290 L 1370 290 L 1370 290.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1370 282.24 L 1374 290.24 L 1366 290.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-75"><g><path d="M 1480 115.05 L 1500 115.05 L 1500 155.08" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500 163.08 L 1497.65 159.08 L 1500 155.08 L 1502.35 159.08 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-76"><g><path d="M 1700 185.05 L 1390 185.05 L 1390 300.03" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1390 308.03 L 1387.65 304.03 L 1390 300.03 L 1392.35 304.03 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-77"><g><path d="M 1770 120 L 1770 140 L 1770 120 L 1770 130.59" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1770 138.59 L 1766 134.59 L 1770 130.59 L 1774 134.59 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-78"><g><path d="M 1570 380 L 1570 400 L 1580 400 L 1580 400.03" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1580 408.03 L 1577.65 404.03 L 1580 400.03 L 1582.35 404.03 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-79"><g transform="translate(0.5,0.5)"><path d="M 0 590 L 0 560 L 100 560 L 100 590 M 0 590 L 280 590 L 280 760 L 0 760 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 575px; margin-left: 50px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.llms</div></div></div></foreignObject><text x="50" y="578" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.llms</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-80"><g transform="translate(0.5,0.5)"><path d="M 20 636 L 20 610 L 260 610 L 260 636" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 636 L 20 730 L 260 730 L 260 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 636 L 260 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="140" y="628">LLMFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-81"><g transform="translate(0.5,0.5)"><path d="M 20 640 L 260 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-82"><g transform="translate(0.5,0.5)"><rect x="20" y="644" width="240" height="86" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-24-649-232-86-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="26" y="662">+ get_llm(provider, name): BaseChatModel</text><text x="26" y="676">+ get_ollama_llm(name): ChatOllama</text><text x="26" y="690">+ get_openrouter_llm(name): ChatOpenAI</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-83"><g transform="translate(0.5,0.5)"><path d="M 310 636 L 310 610 L 450 610 L 450 636" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 310 636 L 310 660 L 450 660 L 450 636" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 310 636 L 450 636" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="380" y="628">LLMFactoryException</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-84"><g transform="translate(0.5,0.5)"><rect x="310" y="636" width="140" height="24" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="11.999999999999998px" clip-path="url(#mx-clip-314-641-132-24-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="380" y="654">(inherits Exception)</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-85"><g transform="translate(0.5,0.5)"><path d="M 480 590 L 480 560 L 580 560 L 580 590 M 480 590 L 860 590 L 860 880 L 480 880 Z" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 575px; margin-left: 530px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.tools</div></div></div></foreignObject><text x="530" y="578" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.tools</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-86"><g transform="translate(0.5,0.5)"><path d="M 500 636 L 500 610 L 700 610 L 700 636" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 500 636 L 500 750 L 700 750 L 700 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 500 636 L 700 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="600" y="628">MCPToolWrapper</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-87"><g transform="translate(0.5,0.5)"><rect x="500" y="636" width="200" height="70" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-504-641-192-70-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="506" y="654">+ name: str</text><text x="506" y="668">+ description: Optional[str]</text><text x="506" y="682">+ mcp_server_url: str</text><text x="506" y="696">+ tool_schema: Dict</text><text x="506" y="710">+ args_schema: Type[BaseModel]</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-88"><g transform="translate(0.5,0.5)"><path d="M 500 710 L 700 710" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-89"><g transform="translate(0.5,0.5)"><rect x="500" y="714" width="200" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-504-719-192-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="506" y="732">+ _run(**kwargs): str</text><text x="506" y="746">+ _arun(**kwargs): str</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-90"><g transform="translate(0.5,0.5)"><path d="M 500 820 L 500 780 L 640 780 L 640 820" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 500 820 L 500 850 L 640 850 L 640 820" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 500 820 L 640 820" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-weight="bold" font-style="italic" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="570" y="798">&lt;&lt;langchain&gt;&gt;</text><text x="570" y="812">BaseTool</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-91"><g transform="translate(0.5,0.5)"><rect x="500" y="820" width="140" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="11.999999999999998px" clip-path="url(#mx-clip-504-825-132-30-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="570" y="838">(external)</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-92"><g transform="translate(0.5,0.5)"><path d="M 720 636 L 720 610 L 840 610 L 840 636" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 720 636 L 720 710 L 840 710 L 840 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 720 636 L 840 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="780" y="628">RAGToolFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-93"><g transform="translate(0.5,0.5)"><path d="M 720 640 L 840 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-94"><g transform="translate(0.5,0.5)"><rect x="720" y="644" width="120" height="66" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-724-649-112-66-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="726" y="662">+ init_rag_tool()</text><text x="726" y="676">+ create_llama_index_tool()</text><text x="726" y="690">+ create_lightrag_tool()</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-95"><g><path d="M 600 750 L 600 770 L 570 770 L 570 769.76" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 570 777.76 L 566 769.76 L 574 769.76 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-96"><g transform="translate(0.5,0.5)"><path d="M 900 590 L 900 560 L 1030 560 L 1030 590 M 900 590 L 1860 590 L 1860 1180 L 900 1180 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 575px; margin-left: 965px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.evaluation</div></div></div></foreignObject><text x="965" y="578" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.evaluation</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-97"><g transform="translate(0.5,0.5)"><path d="M 920 636 L 920 610 L 1100 610 L 1100 636" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 920 636 L 920 810 L 1100 810 L 1100 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 920 636 L 1100 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1010" y="628">MetricThresholds</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-98"><g transform="translate(0.5,0.5)"><rect x="920" y="636" width="180" height="174" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-924-641-172-174-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="654">+ task_completion: float</text><text x="926" y="668">+ tool_correctness: float</text><text x="926" y="682">+ answer_relevancy: float</text><text x="926" y="696">+ contextual_relevancy: float</text><text x="926" y="710">+ faithfulness: float</text><text x="926" y="724">+ coherence: float</text><text x="926" y="738">+ helpfulness: float</text><text x="926" y="752">+ correctness: float</text><text x="926" y="766">+ tool_usage: float</text><text x="926" y="780">+ mcp_execution: float</text><text x="926" y="794">+ mcp_data_quality: float</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-99"><g transform="translate(0.5,0.5)"><path d="M 1120 636 L 1120 610 L 1320 610 L 1320 636" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1120 636 L 1120 770 L 1320 770 L 1320 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1120 636 L 1320 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1220" y="628">EvaluationConfig</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-100"><g transform="translate(0.5,0.5)"><rect x="1120" y="636" width="200" height="90" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1124-641-192-90-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1126" y="654">+ thresholds: MetricThresholds</text><text x="1126" y="668">+ evaluation_model: str</text><text x="1126" y="682">+ include_reason: bool</text><text x="1126" y="696">+ async_evaluation: bool</text><text x="1126" y="710">+ api_key: str</text><text x="1126" y="724">+ base_url: str</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-101"><g transform="translate(0.5,0.5)"><path d="M 1120 730 L 1320 730" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-102"><g transform="translate(0.5,0.5)"><rect x="1120" y="734" width="200" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1124-739-192-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1126" y="752">+ from_app_config(config): EvaluationConfig</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-103"><g transform="translate(0.5,0.5)"><path d="M 1340 650 L 1340 610 L 1540 610 L 1540 650" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1340 650 L 1340 730 L 1540 730 L 1540 650" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 1340 650 L 1540 650" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-weight="bold" font-style="italic" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="1440" y="628">&lt;&lt;ABC&gt;&gt;</text><text x="1440" y="642">MetricFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-104"><g transform="translate(0.5,0.5)"><rect x="1340" y="650" width="200" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1344-655-192-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1346" y="668">+ eval_config: EvaluationConfig</text><text x="1346" y="682">- _eval_model: Optional[GPTModel]</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-105"><g transform="translate(0.5,0.5)"><path d="M 1340 690 L 1540 690" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-106"><g transform="translate(0.5,0.5)"><rect x="1340" y="694" width="200" height="36" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-style="italic" font-size="11.999999999999998px" clip-path="url(#mx-clip-1344-699-192-36-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1346" y="712">+ create_metrics(): List[BaseMetric]</text><text x="1346" y="726"># eval_model: GPTModel (property)</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-107"><g transform="translate(0.5,0.5)"><path d="M 1560 636 L 1560 610 L 1840 610 L 1840 636" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 1560 636 L 1560 730 L 1840 730 L 1840 636" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 1560 636 L 1840 636" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1700" y="628">MetricRegistry</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-108"><g transform="translate(0.5,0.5)"><rect x="1560" y="636" width="280" height="26" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1564-641-272-26-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1566" y="654">- _factories: Dict[str, Type[MetricFactory]]</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-109"><g transform="translate(0.5,0.5)"><path d="M 1560 666 L 1840 666" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-110"><g transform="translate(0.5,0.5)"><rect x="1560" y="670" width="280" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1564-675-272-60-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1566" y="688">+ register(name): decorator</text><text x="1566" y="702">+ get_factory(name): Type[MetricFactory]</text><text x="1566" y="716">+ get_all_metrics(config, categories): List[BaseMetric]</text><text x="1566" y="730">+ list_categories(): List[str]</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-111"><g transform="translate(0.5,0.5)"><path d="M 920 876 L 920 850 L 1120 850 L 1120 876" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 920 876 L 920 950 L 1120 950 L 1120 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 920 876 L 1120 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1020" y="868">AgentMetricFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-112"><g transform="translate(0.5,0.5)"><path d="M 920 880 L 1120 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-113"><g transform="translate(0.5,0.5)"><rect x="920" y="884" width="200" height="66" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-924-889-192-66-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="902">+ create_metrics(): List[BaseMetric]</text><text x="926" y="916">+ create_task_completion_metric()</text><text x="926" y="930">+ create_tool_selection_metric()</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-114"><g transform="translate(0.5,0.5)"><path d="M 1140 876 L 1140 850 L 1320 850 L 1320 876" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1140 876 L 1140 950 L 1320 950 L 1320 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1140 876 L 1320 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1230" y="868">GeneralMetricFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-115"><g transform="translate(0.5,0.5)"><path d="M 1140 880 L 1320 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-116"><g transform="translate(0.5,0.5)"><rect x="1140" y="884" width="180" height="66" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1144-889-172-66-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1146" y="902">+ create_metrics(): List</text><text x="1146" y="916">+ create_coherence_metric()</text><text x="1146" y="930">+ create_helpfulness_metric()</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-117"><g transform="translate(0.5,0.5)"><path d="M 1340 876 L 1340 850 L 1540 850 L 1540 876" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1340 876 L 1340 970 L 1540 970 L 1540 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1340 876 L 1540 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1440" y="868">RAGMetricFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-118"><g transform="translate(0.5,0.5)"><path d="M 1340 880 L 1540 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-119"><g transform="translate(0.5,0.5)"><rect x="1340" y="884" width="200" height="86" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1344-889-192-86-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1346" y="902">+ create_metrics(): List</text><text x="1346" y="916">+ create_retriever_metrics()</text><text x="1346" y="930">+ create_answer_relevancy_metric()</text><text x="1346" y="944">+ create_faithfulness_metric()</text><text x="1346" y="958">+ create_contextual_relevancy_metric()</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-120"><g transform="translate(0.5,0.5)"><path d="M 1560 876 L 1560 850 L 1760 850 L 1760 876" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1560 876 L 1560 950 L 1760 950 L 1760 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1560 876 L 1760 876" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1660" y="868">MCPMetricFactory</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-121"><g transform="translate(0.5,0.5)"><path d="M 1560 880 L 1760 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-122"><g transform="translate(0.5,0.5)"><rect x="1560" y="884" width="200" height="66" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1564-889-192-66-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1566" y="902">+ create_metrics(): List</text><text x="1566" y="916">+ create_mcp_execution_metric()</text><text x="1566" y="930">+ create_mcp_data_quality_metric()</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-123"><g transform="translate(0.5,0.5)"><path d="M 920 1030 L 920 990 L 1120 990 L 1120 1030" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 920 1030 L 920 1090 L 1120 1090 L 1120 1030" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 920 1030 L 1120 1030" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1020" y="1008">&lt;&lt;dataclass&gt;&gt;</text><text x="1020" y="1022">EvaluationResult</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-124"><g transform="translate(0.5,0.5)"><rect x="920" y="1030" width="200" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-924-1035-192-60-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="926" y="1048">+ test_results: List[Any]</text><text x="926" y="1062">+ metrics_summary: Dict[str, float]</text><text x="926" y="1076">+ raw_results: Optional[Any]</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-125"><g transform="translate(0.5,0.5)"><path d="M 1140 1016 L 1140 990 L 1400 990 L 1400 1016" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 1140 1016 L 1140 1160 L 1400 1160 L 1400 1016" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 1140 1016 L 1400 1016" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1270" y="1008">AgentEvaluator</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-126"><g transform="translate(0.5,0.5)"><rect x="1140" y="1016" width="260" height="50" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1144-1021-252-50-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1146" y="1034">+ eval_config: EvaluationConfig</text><text x="1146" y="1048">+ traced_component: TracedComponent</text><text x="1146" y="1062">- _supervisor: Optional[CompiledStateGraph]</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-127"><g transform="translate(0.5,0.5)"><path d="M 1140 1070 L 1400 1070" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-128"><g transform="translate(0.5,0.5)"><rect x="1140" y="1074" width="260" height="86" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1144-1079-252-86-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1146" y="1092">+ initialize()</text><text x="1146" y="1106">+ get_traced_response(input, expected)</text><text x="1146" y="1120">+ get_response(input): str</text><text x="1146" y="1134">+ run_trace_evaluation(data, categories)</text><text x="1146" y="1148">+ run_batch_evaluation(data, categories)</text><text x="1146" y="1162">+ run_full_evaluation(data, ...)</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-129"><g transform="translate(0.5,0.5)"><path d="M 1420 1016 L 1420 990 L 1660 990 L 1660 1016" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1420 1016 L 1420 1090 L 1660 1090 L 1660 1016" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1420 1016 L 1660 1016" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1540" y="1008">TracedComponent</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-130"><g transform="translate(0.5,0.5)"><rect x="1420" y="1016" width="240" height="22" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1424-1021-232-22-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1426" y="1034">+ eval_config: EvaluationConfig</text></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-131"><g transform="translate(0.5,0.5)"><path d="M 1420 1042 L 1660 1042" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-132"><g transform="translate(0.5,0.5)"><rect x="1420" y="1046" width="240" height="44" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-1424-1051-232-44-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1426" y="1064">+ wrap_agent_function(func, expected, metrics)</text><text x="1426" y="1078">+ wrap_tool_function(func, name, metrics)</text><text x="1426" y="1092">+ wrap_sync_tool_function(func, name, metrics)</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-133"><g><path d="M 1120 900 L 1440 900 L 1440 740.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1440 732.24 L 1444 740.24 L 1436 740.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-134"><g><path d="M 1320 900 L 1440 900 L 1440 740.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1440 732.24 L 1444 740.24 L 1436 740.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-135"><g><path d="M 1440 850 L 1440 740.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1440 732.24 L 1444 740.24 L 1436 740.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-136"><g><path d="M 1560 900 L 1440 900 L 1440 740.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1440 732.24 L 1444 740.24 L 1436 740.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-137"><g><path d="M 1100 710 L 1120 710 L 1120 699.41" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1120 691.41 L 1124 695.41 L 1120 699.41 L 1116 695.41 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-138"><g><path d="M 1420 1040 L 1400 1040 L 1400 1065.64" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1400 1073.64 L 1396 1069.64 L 1400 1065.64 L 1404 1069.64 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-139"><g transform="translate(0.5,0.5)"><path d="M 1270 990 L 1270 880 L 1220 880 L 1220 772.24" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1223.5 778.12 L 1220 771.12 L 1216.5 778.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-140"><g transform="translate(0.5,0.5)"><path d="M 1560 670 L 1540 670 L 1560 670 L 1542.24 670" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1548.12 666.5 L 1541.12 670 L 1548.12 673.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-141"><g transform="translate(0.5,0.5)"><path d="M 0 830 L 0 800 L 110 800 L 110 830 M 0 830 L 420 830 L 420 1040 L 0 1040 Z" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(225, 213, 231), rgb(57, 47, 63)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 815px; margin-left: 55px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.agents</div></div></div></foreignObject><text x="55" y="818" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.agents</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-142"><g transform="translate(0.5,0.5)"><path d="M 20 890 L 20 850 L 200 850 L 200 890" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 20 890 L 20 950 L 200 950 L 200 890" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 20 890 L 200 890" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="110" y="868">&lt;&lt;module&gt;&gt;</text><text x="110" y="882">diagram_agent</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-143"><g transform="translate(0.5,0.5)"><rect x="20" y="890" width="180" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-24-895-172-60-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="26" y="908">+ generate_uml(code, path): str</text><text x="26" y="922">+ create_c4_agent(): CompiledGraph</text><text x="26" y="936">+ generate_uml_text_plan(): str</text><text x="26" y="950">+ generate_c4_agent(): CompiledGraph</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-144"><g transform="translate(0.5,0.5)"><path d="M 220 890 L 220 850 L 400 850 L 400 890" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 220 890 L 220 920 L 400 920 L 400 890" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 220 890 L 400 890" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="310" y="868">&lt;&lt;module&gt;&gt;</text><text x="310" y="882">rag_agent</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-145"><g transform="translate(0.5,0.5)"><rect x="220" y="890" width="180" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-224-895-172-30-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="226" y="908">+ get_graph(): CompiledStateGraph</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-146"><g transform="translate(0.5,0.5)"><path d="M 220 980 L 220 940 L 400 940 L 400 980" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 220 980 L 220 1020 L 400 1020 L 400 980" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 220 980 L 400 980" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="310" y="958">&lt;&lt;module&gt;&gt;</text><text x="310" y="972">supervisor</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-147"><g transform="translate(0.5,0.5)"><rect x="220" y="980" width="180" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-224-985-172-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="226" y="998">+ create_supervisor_agent():</text><text x="226" y="1012">    CompiledStateGraph</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-148"><g transform="translate(0.5,0.5)"><path d="M 460 950 L 460 920 L 560 920 L 560 950 M 460 950 L 860 950 L 860 1200 L 460 1200 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="scale(0.9999999999999999)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 935px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">sbmagent.api</div></div></div></foreignObject><text x="510" y="938" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">sbmagent.api</text></switch></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-149"><g transform="translate(0.5,0.5)"><path d="M 480 1010 L 480 970 L 640 970 L 640 1010" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 480 1010 L 480 1050 L 640 1050 L 640 1010" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 480 1010 L 640 1010" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="560" y="988">&lt;&lt;FastAPI&gt;&gt;</text><text x="560" y="1002">app</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-150"><g transform="translate(0.5,0.5)"><rect x="480" y="1010" width="160" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-484-1015-152-40-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="486" y="1028">+ chat_router</text><text x="486" y="1042">+ models_router</text><text x="486" y="1056">+ CORS middleware</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-151"><g transform="translate(0.5,0.5)"><path d="M 660 1010 L 660 970 L 840 970 L 840 1010" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 660 1010 L 660 1070 L 840 1070 L 840 1010" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 660 1010 L 840 1010" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="750" y="988">&lt;&lt;module&gt;&gt;</text><text x="750" y="1002">routes.chat</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-152"><g transform="translate(0.5,0.5)"><rect x="660" y="1010" width="180" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-664-1015-172-60-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="666" y="1028">+ sse_astream(graph, input, ...)</text><text x="666" y="1042">+ get_full_response(graph, input)</text><text x="666" y="1056">+ create_completion_response()</text><text x="666" y="1070">+ chat_completions(payload)</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-153"><g transform="translate(0.5,0.5)"><path d="M 480 1120 L 480 1080 L 640 1080 L 640 1120" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 480 1120 L 480 1180 L 640 1180 L 640 1120" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 480 1120 L 640 1120" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="560" y="1098">&lt;&lt;module&gt;&gt;</text><text x="560" y="1112">routes.models</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-154"><g transform="translate(0.5,0.5)"><rect x="480" y="1120" width="160" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-484-1125-152-60-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="486" y="1138">+ list_models()</text><text x="486" y="1152">+ ollama_tags()</text><text x="486" y="1166">+ ollama_ps()</text><text x="486" y="1180">+ ollama_version()</text></g></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-155"><g transform="translate(0.5,0.5)"><path d="M 0 1106 L 0 1080 L 360 1080 L 360 1106" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 0 1106 L 0 1240 L 360 1240 L 360 1106" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 0 1106 L 360 1106" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g fill="#333333" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="11.999999999999998px" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"><text x="180" y="1098">Legend</text></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-156"><g transform="translate(0.5,0.5)"><rect x="0" y="1106" width="360" height="134" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="Helvetica" font-size="11.999999999999998px" clip-path="url(#mx-clip-4-1111-352-134-0)" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="6" y="1124"> Hollow arrow (): Inheritance/Implements</text><text x="6" y="1138"> Filled diamond (): Composition (strong ownership)</text><text x="6" y="1152"> Hollow diamond (): Aggregation (weak ownership)</text><text x="6" y="1166"> Dashed arrow (--): Association/Dependency</text><text x="6" y="1180"> Yellow classes: Enums / TypedDicts / Dataclasses</text><text x="6" y="1194"> Gray classes: Abstract / External</text><text x="6" y="1208"> Green classes: Main entry points / Factories</text><text x="6" y="1222"> Package colors: Config(blue), Schemas(purple),</text><text x="6" y="1236">   API(orange), LLM(red), Tools(green), Eval(blue)</text></g></g></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-157"><g transform="translate(0.5,0.5)"><path d="M 730 260 L 730 434.95 L 140 434.95 L 140 607.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 136.5 601.88 L 140 608.88 L 143.5 601.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-158"><g transform="translate(0.5,0.5)"><path d="M 260 670 L 490 670 L 490 660 L 717.76 660" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 711.88 663.5 L 718.88 660 L 711.88 656.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-159"><g transform="translate(0.5,0.5)"><path d="M 500 680 L 310 680 L 310 937.76" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 306.5 931.88 L 310 938.88 L 313.5 931.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-160"><g transform="translate(0.5,0.5)"><path d="M 400 980 L 530 980 L 530 1020 L 657.76 1020" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 651.88 1023.5 L 658.88 1020 L 651.88 1016.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="DzBw-flqcTti6L8s_BY_-161"><g transform="translate(0.5,0.5)"><path d="M 1140 1075.05 L 770 1075.05 L 770 980 L 402.24 980" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 408.12 976.5 L 401.12 980 L 408.12 983.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>